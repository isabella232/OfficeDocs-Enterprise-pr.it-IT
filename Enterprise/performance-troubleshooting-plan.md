---
title: Piano di risoluzione dei problemi relativi alle prestazioni per Office 365
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 5/10/2019
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
ms.custom: Adm_O365
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: e241e5d9-b1d8-4f1d-a5c8-4106b7325f8c
ms.collection:
- M365-security-compliance
- Ent_O365
description: È necessario conoscere i passaggi da eseguire per identificare e correggere i ritardi, appendere e rallentare le prestazioni tra SharePoint Online, OneDrive for business, Exchange Online o Skype for business online e il computer client? Prima di chiamare il supporto, questo articolo consente di risolvere i problemi relativi alle prestazioni di Office 365 e persino di risolvere alcuni dei problemi più comuni.
ms.openlocfilehash: 1740e73c298578b4a13e254081ae62b795aed0ab
ms.sourcegitcommit: a9804062071939b7b7e60da5b69f484ce1d34ff8
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/04/2019
ms.locfileid: "39814624"
---
# <a name="performance-troubleshooting-plan-for-office-365"></a><span data-ttu-id="f3cab-104">Piano di risoluzione dei problemi relativi alle prestazioni per Office 365</span><span class="sxs-lookup"><span data-stu-id="f3cab-104">Performance troubleshooting plan for Office 365</span></span>

<span data-ttu-id="f3cab-105">È necessario conoscere i passaggi da eseguire per identificare e correggere i ritardi, appendere e rallentare le prestazioni tra SharePoint Online, OneDrive for business, Exchange Online o Skype for business online e il computer client?</span><span class="sxs-lookup"><span data-stu-id="f3cab-105">Do you need to know the steps to take to identify and fix lags, hangs, and slow performance between SharePoint Online, OneDrive for Business, Exchange Online, or Skype for Business Online, and your client computer?</span></span> <span data-ttu-id="f3cab-106">Prima di chiamare il supporto, questo articolo consente di risolvere i problemi relativi alle prestazioni di Office 365 e persino di risolvere alcuni dei problemi più comuni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-106">Before you call support, this article can help you troubleshoot Office 365 performance issues and even fix some of the most common issues.</span></span>
  
<span data-ttu-id="f3cab-107">Questo articolo è in realtà un piano di azione di esempio che è possibile utilizzare per acquisire dati importanti sul problema delle prestazioni in corso.</span><span class="sxs-lookup"><span data-stu-id="f3cab-107">This article is actually a sample action plan that you can use to capture valuable data about your performance issue as it's happening.</span></span> <span data-ttu-id="f3cab-108">In questo articolo sono inclusi anche alcuni problemi principali.</span><span class="sxs-lookup"><span data-stu-id="f3cab-108">Some top issues are also included in this article.</span></span>

<span data-ttu-id="f3cab-109">Se si è nuovi per le prestazioni di rete e si vuole fare un piano a lungo termine per monitorare le prestazioni tra i computer client e Office 365, esaminare l' [ottimizzazione delle prestazioni di office 365 e la risoluzione dei problemi-admin e IT Pro](performance-tuning-using-baselines-and-history.md).</span><span class="sxs-lookup"><span data-stu-id="f3cab-109">If you're new to network performance and want to make a long term plan to monitor performance between your client machines and Office 365, take a look at [Office 365 performance tuning and troubleshooting - Admin and IT Pro](performance-tuning-using-baselines-and-history.md).</span></span>
  
## <a name="sample-performance-troubleshooting-action-plan"></a><span data-ttu-id="f3cab-110">Piano d'azione per la risoluzione dei problemi di prestazioni di esempio</span><span class="sxs-lookup"><span data-stu-id="f3cab-110">Sample performance troubleshooting action plan</span></span>

<span data-ttu-id="f3cab-111">Questo piano d'azione contiene due parti; una fase di preparazione e una fase di registrazione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-111">This action plan contains two parts; a preparation phase, and a logging phase.</span></span> <span data-ttu-id="f3cab-112">Se si dispone di un problema di prestazioni in questo momento ed è necessario eseguire la raccolta dei dati, è possibile iniziare a usare questo piano subito.</span><span class="sxs-lookup"><span data-stu-id="f3cab-112">If you have a performance problem right now, and you need to do data collection, you can start using this plan right away.</span></span>
  
### <a name="prepare-the-client-computer"></a><span data-ttu-id="f3cab-113">Preparare il computer client</span><span class="sxs-lookup"><span data-stu-id="f3cab-113">Prepare the client computer</span></span>
  
- <span data-ttu-id="f3cab-114">Trovare un computer client in grado di riprodurre il problema delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-114">Find a client computer that can reproduce the performance problem.</span></span> <span data-ttu-id="f3cab-115">Questo computer verrà utilizzato nel corso della risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-115">This computer will be used during the course of troubleshooting.</span></span>
- <span data-ttu-id="f3cab-116">Annotare i passaggi che causano il verificarsi del problema delle prestazioni in modo da essere pronti quando arriva il momento di testare.</span><span class="sxs-lookup"><span data-stu-id="f3cab-116">Write down the steps that cause the performance problem to happen so you're ready when it comes time to test.</span></span>
- <span data-ttu-id="f3cab-117">Installare gli strumenti per la raccolta e la registrazione delle informazioni:</span><span class="sxs-lookup"><span data-stu-id="f3cab-117">Install tools for gathering and recording information:</span></span>
  - <span data-ttu-id="f3cab-118">Installare [Netmon 3,4](https://www.microsoft.com/download/details.aspx?id=4865) (o utilizzare uno strumento di traccia di rete equivalente).</span><span class="sxs-lookup"><span data-stu-id="f3cab-118">Install [Netmon 3.4](https://www.microsoft.com/download/details.aspx?id=4865) (or use an equivalent network tracing tool).</span></span>
  - <span data-ttu-id="f3cab-119">Installare la versione gratuita di base di [HttpWatch](https://www.httpwatch.com/download/) (o utilizzare uno strumento di traccia di rete equivalente).</span><span class="sxs-lookup"><span data-stu-id="f3cab-119">Install the free Basic Edition of [HTTPWatch](https://www.httpwatch.com/download/) (or use an equivalent network Tracing tool).</span></span>
  - <span data-ttu-id="f3cab-120">Utilizzare un masterizzatore o eseguire la procedura Recorder (PSR. exe) fornita con Windows Vista e versioni successive, per tenere traccia dei passaggi da eseguire durante il testing.</span><span class="sxs-lookup"><span data-stu-id="f3cab-120">Use a screen recorder or run the Steps Recorder (PSR.exe) that comes with Windows Vista and later, in order to keep a record of the steps you take during testing.</span></span>

### <a name="log-the-performance-issue"></a><span data-ttu-id="f3cab-121">Registrare il problema delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="f3cab-121">Log the performance issue</span></span>
  
- <span data-ttu-id="f3cab-122">Chiudere tutti i browser Internet estranei.</span><span class="sxs-lookup"><span data-stu-id="f3cab-122">Close all extraneous Internet browsers.</span></span>
- <span data-ttu-id="f3cab-123">Avviare la procedura di registrazione o un altro registratore di schermata.</span><span class="sxs-lookup"><span data-stu-id="f3cab-123">Start the Steps Recorder, or another screen recorder.</span></span>
- <span data-ttu-id="f3cab-124">Avviare l'acquisizione di Netmon (o lo strumento di traccia di rete).</span><span class="sxs-lookup"><span data-stu-id="f3cab-124">Start your Netmon capture (or network tracing tool).</span></span>
- <span data-ttu-id="f3cab-125">Cancellare la cache DNS sul computer client dalla riga di comando digitando ipconfig/flushdns.</span><span class="sxs-lookup"><span data-stu-id="f3cab-125">Clear your DNS cache on the client computer from the command line by typing ipconfig /flushdns.</span></span>
- <span data-ttu-id="f3cab-126">Avviare una nuova sessione del browser e attivare HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="f3cab-126">Start a new browser session and turn on HTTPWatch.</span></span>
- <span data-ttu-id="f3cab-127">Facoltativo: se si sta testando Exchange Online, eseguire Exchange client Performance Analyzer Tool dalla console di amministrazione di Office 365.</span><span class="sxs-lookup"><span data-stu-id="f3cab-127">Optional: If you are testing Exchange Online, run the Exchange Client Performance Analyzer tool from the Office 365 admin console.</span></span>
- <span data-ttu-id="f3cab-128">Riprodurre i passaggi esatti che causano il problema delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-128">Reproduce the exact steps that cause the performance issue.</span></span>
- <span data-ttu-id="f3cab-129">Interrompere la traccia di NetMon o di altro strumento.</span><span class="sxs-lookup"><span data-stu-id="f3cab-129">Stop your Netmon or other tool's trace.</span></span>
- <span data-ttu-id="f3cab-130">Nella riga di comando eseguire una route di traccia per l'abbonamento a Office 365 digitando il comando seguente e quindi premendo INVIO:</span><span class="sxs-lookup"><span data-stu-id="f3cab-130">At the command line, run a trace route to your Office 365 subscription by typing the following command and then pressing ENTER:</span></span>

  ``` cmd
  tracert <subscriptionname>.onmicrosoft.com
  ```

- <span data-ttu-id="f3cab-131">Interrompere la procedura di registrazione e salvare il video.</span><span class="sxs-lookup"><span data-stu-id="f3cab-131">Stop the Steps Recorder and save the video.</span></span> <span data-ttu-id="f3cab-132">Assicurarsi di includere la data e l'ora dell'acquisizione e se viene mostrata una prestazione positiva o negativa.</span><span class="sxs-lookup"><span data-stu-id="f3cab-132">Be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>
- <span data-ttu-id="f3cab-133">Salvare i file di traccia.</span><span class="sxs-lookup"><span data-stu-id="f3cab-133">Save the trace files.</span></span> <span data-ttu-id="f3cab-134">Anche in questo caso, assicurarsi di includere la data e l'ora dell'acquisizione e se viene mostrata una prestazione positiva o negativa.</span><span class="sxs-lookup"><span data-stu-id="f3cab-134">Again, be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>

<span data-ttu-id="f3cab-135">Se non si ha familiarità con l'esecuzione degli strumenti citati in questo articolo, non si preoccupi perché vengono forniti i passaggi successivi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-135">If you're not familiar with running the tools mentioned in this article, don't worry because we provide those steps next.</span></span> <span data-ttu-id="f3cab-136">Se si è abituati a eseguire questo tipo di acquisizione di rete, è possibile passare a [come raccogliere le linee di base](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), in cui vengono descritti i filtri e la lettura dei log.</span><span class="sxs-lookup"><span data-stu-id="f3cab-136">If you're accustomed to doing this kind of network capturing, you can skip to [How to collect baselines](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), which describes filtering and reading the logs.</span></span>
  
### <a name="flush-the-dns-cache-first"></a><span data-ttu-id="f3cab-137">Svuotare la cache DNS per primo</span><span class="sxs-lookup"><span data-stu-id="f3cab-137">Flush the DNS Cache first</span></span>

<span data-ttu-id="f3cab-138">Perché?</span><span class="sxs-lookup"><span data-stu-id="f3cab-138">Why?</span></span> <span data-ttu-id="f3cab-139">Scaricando la cache DNS vengono avviati i test con una tabulazione pulita.</span><span class="sxs-lookup"><span data-stu-id="f3cab-139">By flushing out the DNS cache you're starting your tests with a clean slate.</span></span> <span data-ttu-id="f3cab-140">Deselezionando la cache, si sta reimpostando il contenuto del resolver DNS nelle voci più aggiornate.</span><span class="sxs-lookup"><span data-stu-id="f3cab-140">By clearing the cache, you're resetting the DNS resolver contents to the most up-to-date entries.</span></span> <span data-ttu-id="f3cab-141">Tenere presente che un colore non rimuove le voci del file hosts.</span><span class="sxs-lookup"><span data-stu-id="f3cab-141">Remember that a flush does not remove HOSTs file entries.</span></span> <span data-ttu-id="f3cab-142">Se si utilizzano ampiamente le voci dei file HOST, è consigliabile copiare tali voci in un file in un'altra directory e quindi svuotare il file HOST.</span><span class="sxs-lookup"><span data-stu-id="f3cab-142">If you use HOST file entries extensively, you should copy those entries out to a file in another directory and then empty the HOST file.</span></span>
  
#### <a name="flush-your-dns-resolver-cache"></a><span data-ttu-id="f3cab-143">Svuotare la cache del resolver DNS</span><span class="sxs-lookup"><span data-stu-id="f3cab-143">Flush your DNS resolver cache</span></span>
  
1. <span data-ttu-id="f3cab-144">Aprire il prompt dei comandi ( **iniziare** \> **eseguire** \> **cmd** o **Key** \> **cmd**di Windows).</span><span class="sxs-lookup"><span data-stu-id="f3cab-144">Open the command prompt, (either **Start** \> **Run** \> **cmd** or **Windows key** \> **cmd**).</span></span>
2. <span data-ttu-id="f3cab-145">Digitare il comando seguente e premere INVIO:</span><span class="sxs-lookup"><span data-stu-id="f3cab-145">Type the following command and press ENTER:</span></span>

    ``` cmd
    ipconfig /flushdns
    ```

## <a name="netmon"></a><span data-ttu-id="f3cab-146">Netmon</span><span class="sxs-lookup"><span data-stu-id="f3cab-146">Netmon</span></span>

<span data-ttu-id="f3cab-147">Microsoft ' s Network Monitoring Tool ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analizza i pacchetti, ovvero il traffico, che passa da un computer all'altra.</span><span class="sxs-lookup"><span data-stu-id="f3cab-147">Microsoft's Network Monitoring tool ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analyzes packets, that is traffic, that passes between computers on networks.</span></span> <span data-ttu-id="f3cab-148">Se si utilizza NetMon per tracciare il traffico con Office 365, è possibile acquisire, visualizzare e leggere le intestazioni dei pacchetti, identificare i dispositivi intervenuti, controllare le impostazioni importanti per l'hardware di rete, cercare i pacchetti eliminati e seguire il flusso di traffico tra i computer dell'azienda rete e Office 365.</span><span class="sxs-lookup"><span data-stu-id="f3cab-148">By using Netmon to trace traffic with Office 365 you can capture, view, and read packet headers, identify intervening devices, check important settings on network hardware, look for dropped packets, and follow the flow of traffic between computers on your corporate network and Office 365.</span></span> <span data-ttu-id="f3cab-149">Poiché il corpo effettivo del traffico è crittografato, ovvero (viaggia sulla porta 443 tramite SSL/TLS, non è possibile leggere i file inviati.</span><span class="sxs-lookup"><span data-stu-id="f3cab-149">Because the actual body of the traffic is encrypted, that is, it(travels on port 443 via SSL/TLS, you can't read the files being sent.</span></span> <span data-ttu-id="f3cab-150">Invece, si ottiene una traccia non filtrata del percorso che il pacchetto prende che può aiutare a rintracciare il comportamento del problema.</span><span class="sxs-lookup"><span data-stu-id="f3cab-150">Instead, you get an unfiltered trace of the path that the packet takes which can help you track down the problem behavior.</span></span>
  
<span data-ttu-id="f3cab-151">Assicurarsi di non applicare un filtro in questo momento.</span><span class="sxs-lookup"><span data-stu-id="f3cab-151">Be sure you don't apply a filter at this time.</span></span> <span data-ttu-id="f3cab-152">Eseguire invece i passaggi e illustrare il problema prima di interrompere la traccia e il salvataggio.</span><span class="sxs-lookup"><span data-stu-id="f3cab-152">Instead, run through the steps and demonstrate the problem before stopping the trace and saving.</span></span>
  
<span data-ttu-id="f3cab-153">Dopo aver installato NetMon 3,4, aprire lo strumento e procedere come segue:</span><span class="sxs-lookup"><span data-stu-id="f3cab-153">After you install Netmon 3.4, open the tool and take these steps:</span></span>
  
### <a name="take-a-netmon-trace-and-reproduce-the-issue"></a><span data-ttu-id="f3cab-154">Eseguire una traccia Netmon e riprodurre il problema</span><span class="sxs-lookup"><span data-stu-id="f3cab-154">Take a Netmon trace and reproduce the issue</span></span>
  
1. <span data-ttu-id="f3cab-155">Avviare NetMon 3,4.</span><span class="sxs-lookup"><span data-stu-id="f3cab-155">Launch Netmon 3.4.</span></span>
<span data-ttu-id="f3cab-156">Nella pagina **iniziale** sono presenti tre riquadri: **acquisizioni recenti**, **selezionare reti**e **guida introduttiva a Microsoft Network Monitor 3,4. Avviso**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-156">There are three panes on the **Start** page: **Recent Captures**, **Select Networks**, and the **Getting Started with Microsoft Network Monitor 3.4. Notice**.</span></span> <span data-ttu-id="f3cab-157">Il pannello Seleziona reti fornirà anche un elenco delle reti predefinite da cui è possibile acquisire.</span><span class="sxs-lookup"><span data-stu-id="f3cab-157">The Select Networks panel will also give you a list of the default networks from which you can capture.</span></span> <span data-ttu-id="f3cab-158">Verificare che le schede di rete siano selezionate qui.</span><span class="sxs-lookup"><span data-stu-id="f3cab-158">Be sure that network cards are selected here.</span></span>

2. <span data-ttu-id="f3cab-159">Fare clic su **nuova acquisizione** nella parte superiore della pagina **iniziale** .</span><span class="sxs-lookup"><span data-stu-id="f3cab-159">Click **New Capture** at the top of the **Start** page.</span></span> <span data-ttu-id="f3cab-160">Viene aggiunta una nuova scheda accanto alla scheda pagina **iniziale** denominata **Capture 1**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-160">This adds a new tab beside the **Start** page tab called **Capture 1**.</span></span>
<span data-ttu-id="f3cab-161">![Interfaccia utente di NetMon con i nuovi pulsanti di acquisizione, avvio e arresto evidenziati.](media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)</span><span class="sxs-lookup"><span data-stu-id="f3cab-161">![Netmon's user interface with the New Capture, Start, and Stop buttons highlighted.](media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)</span></span>

3. <span data-ttu-id="f3cab-162">Per eseguire un'acquisizione semplice, fare clic su **Avvia** sulla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="f3cab-162">To take a simple capture, click **Start** on the toolbar.</span></span>

4. <span data-ttu-id="f3cab-163">Riprodurre i passaggi che presentano un problema di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-163">Reproduce the steps that present a performance issue.</span></span>

5. <span data-ttu-id="f3cab-164">Fare clic su **Interrompi** \> **file** \> **Salva con nome**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-164">Click **Stop** \> **File** \> **Save As**.</span></span> <span data-ttu-id="f3cab-165">Tenere presente la data e l'ora con il fuso orario e indicare se sono state apportate prestazioni negative o valide.</span><span class="sxs-lookup"><span data-stu-id="f3cab-165">Remember to give the date and time with the time zone and to mention if it demonstrates bad or good performance.</span></span>

## <a name="httpwatch"></a><span data-ttu-id="f3cab-166">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="f3cab-166">HTTPWatch</span></span>

<span data-ttu-id="f3cab-167">[HttpWatch](https://www.httpwatch.com/download/) viene caricato e un'edizione gratuita.</span><span class="sxs-lookup"><span data-stu-id="f3cab-167">[HTTPWatch](https://www.httpwatch.com/download/) comes in charged, and a free edition.</span></span> <span data-ttu-id="f3cab-168">La versione gratuita di base include tutto ciò che è necessario per questo test.</span><span class="sxs-lookup"><span data-stu-id="f3cab-168">The free Basic Edition covers everything you need for this test.</span></span> <span data-ttu-id="f3cab-169">HTTPWatch monitora il traffico di rete e il tempo di caricamento delle pagine direttamente dalla finestra del browser.</span><span class="sxs-lookup"><span data-stu-id="f3cab-169">HTTPWatch monitors network traffic and page load time right from your browser window.</span></span> <span data-ttu-id="f3cab-170">HTTPWatch è un plug-in per Internet Explorer che descrive graficamente le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-170">HTTPWatch is a plug-in to Internet Explorer that graphically describes performance.</span></span> <span data-ttu-id="f3cab-171">L'analisi può essere salvata e visualizzata in HTTPWatch Studio.</span><span class="sxs-lookup"><span data-stu-id="f3cab-171">The analysis can be saved and viewed in HTTPWatch Studio.</span></span>
  
> [!NOTE]
> <span data-ttu-id="f3cab-172">Se si utilizza un altro browser, ad esempio Firefox, Google Chrome o se non è possibile installare HTTPWatch in Internet Explorer, aprire una nuova finestra del browser e premere F12 sulla tastiera.</span><span class="sxs-lookup"><span data-stu-id="f3cab-172">If you use another browser, such as Firefox, Google Chrome, or if you can't install HTTPWatch in Internet Explorer, open a new browser window and press F12 on your keyboard.</span></span> <span data-ttu-id="f3cab-173">Verrà visualizzato lo strumento di sviluppo pop-up nella parte inferiore del browser.</span><span class="sxs-lookup"><span data-stu-id="f3cab-173">You should see the Developer Tool pop-up at the bottom of your browser.</span></span> <span data-ttu-id="f3cab-174">Se si utilizza Opera, premere CTRL + MAIUSC + I per Web Inspector, quindi fare clic sulla scheda **rete** e completare i test illustrati di seguito.</span><span class="sxs-lookup"><span data-stu-id="f3cab-174">If you use Opera, press CTRL+SHIFT+I for Web Inspector, then click the **Network** tab and complete the testing outlined below.</span></span> <span data-ttu-id="f3cab-175">Le informazioni saranno leggermente diverse, ma i tempi di caricamento verranno comunque visualizzati in millisecondi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-175">The information will be slightly different, but load times will still be displayed in milliseconds.</span></span> <span data-ttu-id="f3cab-176">> HTTPWatch è molto utile anche per i problemi relativi ai tempi di caricamento delle pagine di SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="f3cab-176">> HTTPWatch is also very useful for issues with SharePoint Online page load times.</span></span>
  
### <a name="run-httpwatch-and-reproduce-the-issue"></a><span data-ttu-id="f3cab-177">Eseguire HTTPWatch e riprodurre il problema</span><span class="sxs-lookup"><span data-stu-id="f3cab-177">Run HTTPWatch and reproduce the issue</span></span>
  
<span data-ttu-id="f3cab-178">HTTPWatch è un plug-in del browser, quindi esporre lo strumento nel browser è leggermente diverso per ogni versione di Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="f3cab-178">HTTPWatch is a browser plug-in, so exposing the tool in the browser is slightly different for each version of Internet Explorer.</span></span> <span data-ttu-id="f3cab-179">In genere, è possibile trovare HTTPWatch sotto la barra dei comandi nel browser Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="f3cab-179">Typically, you can find HTTPWatch under the Commands bar in the Internet Explorer browser.</span></span> <span data-ttu-id="f3cab-180">Se il plug-in di HttpWatch non viene visualizzato nella finestra del browser, vedere la versione del browser facendo clic \*\*\*\* \> **su**guida o su versioni successive di Internet Explorer, fare clic sul simbolo dell'ingranaggio e **su Internet Explorer**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-180">If you don't see the HTTPWatch plug-in in your browser window, check the version of your browser by clicking **Help** \> **About**, or in later versions of Internet Explorer, click the gear symbol and **About Internet Explorer**.</span></span> <span data-ttu-id="f3cab-181">Per avviare la barra dei **comandi** , fare clic con il pulsante destro del mouse sulla barra dei menu in Internet Explorer e scegliere **barra comandi**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-181">To launch the **Commands** bar, right-click the menu bar in Internet Explorer and click **Commands bar**.</span></span>

<span data-ttu-id="f3cab-182">In passato, HTTPWatch è stato associato sia ai comandi che alle barre di Explorer, quindi, una volta installato, se non si vede immediatamente l'icona (anche dopo il riavvio), controllare gli **strumenti**e le barre strumenti per l'icona.</span><span class="sxs-lookup"><span data-stu-id="f3cab-182">In the past, HTTPWatch has been associated with both the Commands and the Explorer bars, so once you install, if you don't immediately see the icon (even after reboot) check **Tools**, and your toolbars for the icon.</span></span> <span data-ttu-id="f3cab-183">Tenere presente che le barre degli strumenti possono essere personalizzate e che è possibile aggiungervi le opzioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-183">Remember that toolbars can be customized and options can be added to them.</span></span>

![Barra degli strumenti di comando di Internet Explorer con l'icona di HTTPWatch visualizzata.](media/198590b0-d7b1-4bff-a6ad-e4ec3a1e83df.png)
  
1. <span data-ttu-id="f3cab-185">Avviare HTTPWatch in una finestra del browser di Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="f3cab-185">Launch HTTPWatch in an Internet Explorer browser window.</span></span> <span data-ttu-id="f3cab-186">Verrà visualizzato ancorato al browser nella parte inferiore della finestra.</span><span class="sxs-lookup"><span data-stu-id="f3cab-186">It will appear docked to the browser at the bottom of that window.</span></span> <span data-ttu-id="f3cab-187">Fare clic su **registra**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-187">Click **Record**.</span></span>

2. <span data-ttu-id="f3cab-188">Riprodurre i passaggi esatti coinvolti nel problema delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-188">Reproduce the exact steps involved in the performance issue.</span></span> <span data-ttu-id="f3cab-189">Fare clic sul pulsante **Interrompi** in HttpWatch.</span><span class="sxs-lookup"><span data-stu-id="f3cab-189">Click the **Stop** button in HTTPWatch.</span></span>

3. <span data-ttu-id="f3cab-190">**Salvare** il HttpWatch o **inviare tramite posta elettronica**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-190">**Save** the HTTPWatch or **Send by Email**.</span></span> <span data-ttu-id="f3cab-191">Ricordarsi di assegnare un nome al file in modo che includa informazioni relative a data e ora e indicazione del fatto che l'orologio contiene una dimostrazione di prestazioni valide o negative.</span><span class="sxs-lookup"><span data-stu-id="f3cab-191">Remember to name the file so that it includes date and time information and an indication of whether your Watch contains a demonstration of good or bad performance.</span></span>

![HTTPWatch che mostra la scheda Rete per il caricamento pagina della homepage di Office 365.](media/021a2c64-d581-49fd-adf4-4c364f589d75.PNG)

<span data-ttu-id="f3cab-193">Questo screenshot è della versione professionale di HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="f3cab-193">This screen shot is from the Professional version of HTTPWatch.</span></span> <span data-ttu-id="f3cab-194">È possibile aprire le tracce eseguite nella versione di base in un computer con una versione professionale e leggerle.</span><span class="sxs-lookup"><span data-stu-id="f3cab-194">You can open traces taken in the Basic Version on a computer with a Professional version and read it there.</span></span> <span data-ttu-id="f3cab-195">Informazioni aggiuntive possono essere rese disponibili dalla traccia tramite il metodo.</span><span class="sxs-lookup"><span data-stu-id="f3cab-195">Extra information may be available from the trace through that method.</span></span>

## <a name="problem-steps-recorder"></a><span data-ttu-id="f3cab-196">Record di passaggi del problema</span><span class="sxs-lookup"><span data-stu-id="f3cab-196">Problem Steps Recorder</span></span>

<span data-ttu-id="f3cab-197">Steps Recorder o PSR. exe, consente di registrare i problemi man mano che si verificano.</span><span class="sxs-lookup"><span data-stu-id="f3cab-197">Steps Recorder, or PSR.exe, allows you to record issues as they are occurring.</span></span> <span data-ttu-id="f3cab-198">Si tratta di uno strumento molto utile e molto semplice da eseguire.</span><span class="sxs-lookup"><span data-stu-id="f3cab-198">It's a very useful tool and very simple to run.</span></span>
  
### <a name="run-problem-steps-recorder-psrexe-to-record-your-work"></a><span data-ttu-id="f3cab-199">Run Problem Steps Recorder (PSR. exe) per registrare il proprio lavoro</span><span class="sxs-lookup"><span data-stu-id="f3cab-199">Run Problem Steps Recorder (PSR.exe) to record your work</span></span>
  
1. <span data-ttu-id="f3cab-200">Utilizzare **Start** \> **Run** \> Type **PSR. exe** \> **OK**oppure fare clic sul tipo di **chiave** \> di Windows **PSR. exe** \> e quindi premere INVIO.</span><span class="sxs-lookup"><span data-stu-id="f3cab-200">Either use **Start** \> **Run** \> type **PSR.exe** \> **OK**, or, click the **Windows Key** \> type **PSR.exe** \> and then press ENTER.</span></span>

2. <span data-ttu-id="f3cab-201">Quando viene visualizzata la finestra PSR. exe di piccole dimensioni, fare clic su **Avvia record** e riprodurre i passaggi che riproducono il problema delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-201">When the small PSR.exe window appears, click **Start Record** and reproduce the steps that reproduce the performance issue.</span></span> <span data-ttu-id="f3cab-202">È possibile aggiungere commenti in base alle esigenze, facendo clic su **Aggiungi commenti**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-202">You can add comments as needed, by clicking **Add Comments**.</span></span>

3. <span data-ttu-id="f3cab-203">Fare clic su **Interrompi record** dopo aver completato la procedura.</span><span class="sxs-lookup"><span data-stu-id="f3cab-203">Click **Stop Record** when you have completed the steps.</span></span> <span data-ttu-id="f3cab-204">Se il problema delle prestazioni è un rendering della pagina, attendere che la pagina venga renderizzata prima di interrompere la registrazione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-204">If the performance issue is a page render, wait for the page to render before you stop the recording.</span></span>

4. <span data-ttu-id="f3cab-205">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-205">Click **Save**.</span></span>

![Schermata del Recording passaggi o PSR. exe.](media/8542b0aa-a3ff-4718-8dc4-43f5521c6c34.PNG)
  
<span data-ttu-id="f3cab-207">La data e l'ora vengono registrate per l'utente.</span><span class="sxs-lookup"><span data-stu-id="f3cab-207">The date and time is recorded for you.</span></span> <span data-ttu-id="f3cab-208">Questo collega il PSR alla traccia Netmon e HTTPWatch nel tempo e contribuisce alla risoluzione dei problemi di precisione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-208">This links your PSR to your Netmon trace and HTTPWatch in time, and helps with precision troubleshooting.</span></span> <span data-ttu-id="f3cab-209">La data e l'ora nel record PSR possono mostrare che un minuto è passato tra l'account di accesso e l'esplorazione dell'URL e il rendering parziale del sito di amministrazione, ad esempio.</span><span class="sxs-lookup"><span data-stu-id="f3cab-209">The date and time in the PSR record can show that a minute passed between the login and browsing of the URL and the partial render of the admin site, for example.</span></span>
  
## <a name="read-your-traces"></a><span data-ttu-id="f3cab-210">Leggere le tracce</span><span class="sxs-lookup"><span data-stu-id="f3cab-210">Read your traces</span></span>

<span data-ttu-id="f3cab-211">Non è possibile insegnare tutto ciò che riguarda la risoluzione dei problemi di rete e prestazioni che un utente deve conoscere tramite un articolo.</span><span class="sxs-lookup"><span data-stu-id="f3cab-211">It isn't possible to teach everything about network and performance troubleshooting that someone would need to know via an article.</span></span> <span data-ttu-id="f3cab-212">Ottenere una buona performance richiede esperienza e informazioni su come funziona la rete e di solito esegue.</span><span class="sxs-lookup"><span data-stu-id="f3cab-212">Getting good at performance takes experience, and knowledge of how your network works and usually performs.</span></span> <span data-ttu-id="f3cab-213">Tuttavia, è possibile arrotondare un elenco di problemi principali e mostrare come gli strumenti possano rendere più facile eliminare i problemi più comuni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-213">But it is possible to round up a list of top issues and show how tools can make it easier for you to eliminate the most common problems.</span></span>
  
<span data-ttu-id="f3cab-214">Se si desidera raccogliere le competenze di lettura delle tracce di rete per i siti di Office 365, non esiste un insegnante migliore rispetto alla creazione regolare delle tracce dei carichi di pagina e all'esperienza di lettura.</span><span class="sxs-lookup"><span data-stu-id="f3cab-214">If you want to pick up skills reading network traces for your Office 365 sites, there is no better teacher than creating traces of page loads regularly and gaining experience reading them.</span></span> <span data-ttu-id="f3cab-215">Ad esempio, quando si ha la possibilità, caricare un servizio di Office 365 e tracciare il processo.</span><span class="sxs-lookup"><span data-stu-id="f3cab-215">For example, when you have a chance, load an Office 365 service and trace the process.</span></span> <span data-ttu-id="f3cab-216">Filtrare la traccia per il traffico DNS o cercare in FrameData il nome del servizio visitato.</span><span class="sxs-lookup"><span data-stu-id="f3cab-216">Filter the trace for DNS traffic, or search the FrameData for the name of the service you browsed.</span></span> <span data-ttu-id="f3cab-217">Analizzare la traccia per ottenere un'idea dei passaggi che si verificano quando il servizio viene caricato.</span><span class="sxs-lookup"><span data-stu-id="f3cab-217">Scan the trace to get an idea of the steps that occur when the service loads.</span></span> <span data-ttu-id="f3cab-218">In questo modo viene illustrato il tipo di caricamento normale della pagina e, in caso di risoluzione dei problemi, in particolare per quanto riguarda le prestazioni, il confronto tra il bene e le tracce negative può essere molto utile.</span><span class="sxs-lookup"><span data-stu-id="f3cab-218">This will help you learn what normal page load should look like, and in the case of troubleshooting, particularly around performance, comparing good to bad traces can teach you a lot.</span></span>
  
<span data-ttu-id="f3cab-219">Netmon utilizza Microsoft IntelliSense nel campo filtro visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-219">Netmon uses Microsoft Intellisense in the Display filter field.</span></span> <span data-ttu-id="f3cab-220">IntelliSense, o il completamento intelligente del codice, è quel trucchetto in cui si digita un punto e tutte le opzioni disponibili vengono visualizzate in una casella di selezione a discesa.</span><span class="sxs-lookup"><span data-stu-id="f3cab-220">Intellisense, or intelligent code completion, is that trick where you type in a period and all available options are displayed in a drop-down selection box.</span></span> <span data-ttu-id="f3cab-221">Se, ad esempio, si è preoccupati per la scalabilità delle finestre TCP, è possibile trovare un filtro (come `.protocol.tcp.window < 100`) con questo mezzo.</span><span class="sxs-lookup"><span data-stu-id="f3cab-221">If, for example, you are worried about TCP window scaling, you can find your way to a filter (such as  `.protocol.tcp.window < 100`) by this means.</span></span>
  
![Schermata di Netmon che indica che il campo filtro visualizzazione utilizza IntelliSense.](media/75a56c11-9a60-47ee-a100-aabdfb1ba10f.PNG)
  
<span data-ttu-id="f3cab-223">Le tracce Netmon possono essere molto trafficate.</span><span class="sxs-lookup"><span data-stu-id="f3cab-223">Netmon traces can have a lot of traffic in them.</span></span> <span data-ttu-id="f3cab-224">Se non si ha esperienza con la lettura, è probabile che si sarà sopraffatti aprendo la traccia per la prima volta.</span><span class="sxs-lookup"><span data-stu-id="f3cab-224">If you aren't experienced with reading them, it's likely you will be overwhelmed opening the trace the first time.</span></span> <span data-ttu-id="f3cab-225">La prima cosa da fare è separare il segnale dal rumore di sottofondo nella traccia.</span><span class="sxs-lookup"><span data-stu-id="f3cab-225">The first thing to do is separate the signal from the background noise in the trace.</span></span> <span data-ttu-id="f3cab-226">Sono stati testati su Office 365 e questo è il traffico che si desidera visualizzare.</span><span class="sxs-lookup"><span data-stu-id="f3cab-226">You tested against Office 365, and that's the traffic you want to see.</span></span> <span data-ttu-id="f3cab-227">Se si è abituati all'esplorazione tramite traccia, potrebbe non essere necessario questo elenco.</span><span class="sxs-lookup"><span data-stu-id="f3cab-227">If you are used to navigating through traces, you may not need this list.</span></span>
  
<span data-ttu-id="f3cab-228">Il traffico tra il client e Office 365 viaggia tramite TLS, il che significa che il corpo del traffico verrà crittografato e non leggibile in una traccia Netmon generico.</span><span class="sxs-lookup"><span data-stu-id="f3cab-228">Traffic between your client and Office 365 travels via TLS, which means that the body of the traffic will be encrypted and not readable in a generic Netmon trace.</span></span> <span data-ttu-id="f3cab-229">L'analisi delle prestazioni non deve conoscere le specifiche delle informazioni presenti nel pacchetto.</span><span class="sxs-lookup"><span data-stu-id="f3cab-229">Your performance analysis doesn't need to know the specifics of the information in the packet.</span></span> <span data-ttu-id="f3cab-230">Tuttavia, è molto interessato alle intestazioni di pacchetti e alle informazioni che contengono.</span><span class="sxs-lookup"><span data-stu-id="f3cab-230">It is, however, very interested in packet headers and the information that they contain.</span></span>
  
### <a name="tips-to-get-a-good-trace"></a><span data-ttu-id="f3cab-231">Suggerimenti per ottenere una buona traccia</span><span class="sxs-lookup"><span data-stu-id="f3cab-231">Tips to get a good trace</span></span>
  
- <span data-ttu-id="f3cab-232">Conoscere il valore dell'indirizzo IPv4 o IPv6 del computer client.</span><span class="sxs-lookup"><span data-stu-id="f3cab-232">Know the value of the IPv4 or IPv6 address of your client computer.</span></span> <span data-ttu-id="f3cab-233">È possibile ottenere questo comando dal prompt dei comandi digitando **ipconfig** e quindi premendo INVIO.</span><span class="sxs-lookup"><span data-stu-id="f3cab-233">You can get this from the command prompt by typing **IPConfig** and then pressing ENTER.</span></span> <span data-ttu-id="f3cab-234">Se si conosce l'indirizzo, è possibile indicare a breve se il traffico nella traccia coinvolge direttamente il computer client.</span><span class="sxs-lookup"><span data-stu-id="f3cab-234">Knowing this address will let you tell at a glance whether the traffic in the trace directly involves your client computer.</span></span> <span data-ttu-id="f3cab-235">Se è presente un proxy conosciuto, eseguirne il ping e ottenere anche il relativo indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="f3cab-235">If there is a known proxy, ping it and get its IP address as well.</span></span>

- <span data-ttu-id="f3cab-236">Svuotare la cache del resolver DNS e, se possibile, chiudere tutti i browser eccetto quello in cui si eseguono i test.</span><span class="sxs-lookup"><span data-stu-id="f3cab-236">Flush your DNS resolver cache and, if possible, close all browsers except the one in which you are running your tests.</span></span> <span data-ttu-id="f3cab-237">Se non si è in grado di eseguire questa operazione, ad esempio, se il supporto utilizza alcuni strumenti basati su browser per visualizzare il desktop del computer client, prepararsi a filtrare la traccia.</span><span class="sxs-lookup"><span data-stu-id="f3cab-237">If you are not able to do this, for instance, if support is using some browser-based tool to see your client computer's desktop, be prepared to filter your trace.</span></span>

- <span data-ttu-id="f3cab-238">In una traccia molto trafficata, individuare il servizio Office 365 che si sta utilizzando.</span><span class="sxs-lookup"><span data-stu-id="f3cab-238">In a busy trace, locate the Office 365 service that you're using.</span></span> <span data-ttu-id="f3cab-239">Se non si è mai visto o raramente il traffico prima, questo è un passaggio utile per separare il problema delle prestazioni da altro rumore di rete.</span><span class="sxs-lookup"><span data-stu-id="f3cab-239">If you've never or seldom seen your traffic before, this is a helpful step in separating the performance issue from other network noise.</span></span> <span data-ttu-id="f3cab-240">Esistono alcuni modi per eseguire questa operazione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-240">There are a few ways to do this.</span></span> <span data-ttu-id="f3cab-241">Direttamente prima del test, è possibile utilizzare _ping_ o _PSPING_ rispetto all'URL del servizio specifico (`ping outlook.office365.com` o `psping -4 microsoft-my.sharepoint.com:443`, ad esempio,).</span><span class="sxs-lookup"><span data-stu-id="f3cab-241">Directly before your test, you can use _ping_ or _PsPing_ against the URL of the specific service (`ping outlook.office365.com` or `psping -4 microsoft-my.sharepoint.com:443`, for example).</span></span> <span data-ttu-id="f3cab-242">È inoltre possibile trovare facilmente il ping o PsPing in una traccia Netmon (in base al nome del processo).</span><span class="sxs-lookup"><span data-stu-id="f3cab-242">You can also easily find that ping or PsPing in a Netmon trace (by its process name).</span></span> <span data-ttu-id="f3cab-243">Che vi darà un posto per iniziare a guardare.</span><span class="sxs-lookup"><span data-stu-id="f3cab-243">That will give you a place to start looking.</span></span>

<span data-ttu-id="f3cab-244">Se si utilizza solo l'analisi Netmon al momento del problema, va bene anche questo.</span><span class="sxs-lookup"><span data-stu-id="f3cab-244">If you're only using Netmon tracing at the time of the problem, that's okay too.</span></span> <span data-ttu-id="f3cab-245">Per orientarsi, utilizzare un filtro come `ContainsBin(FrameData, ASCII, "office")` o `ContainsBin(FrameData, ASCII, "outlook")`.</span><span class="sxs-lookup"><span data-stu-id="f3cab-245">To orient yourself, use a filter like `ContainsBin(FrameData, ASCII, "office")` or `ContainsBin(FrameData, ASCII, "outlook")`.</span></span> <span data-ttu-id="f3cab-246">È possibile registrare il numero di frame dal file di traccia.</span><span class="sxs-lookup"><span data-stu-id="f3cab-246">You can record your frame number from the trace file.</span></span> <span data-ttu-id="f3cab-247">È inoltre possibile scorrere il riquadro di _Riepilogo dei frame_ fino a destra e cercare la colonna ID conversazione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-247">You may also want to scroll the _Frame Summary_ pane all the way to the right and look for the Conversation ID column.</span></span> <span data-ttu-id="f3cab-248">Vi è un numero indicato per l'ID di questa conversazione specifica che è anche possibile registrare e guardare in isolamento in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="f3cab-248">There is a number indicated there for the ID of this specific conversation that you can also record and look at in isolation later.</span></span> <span data-ttu-id="f3cab-249">Ricordarsi di rimuovere il filtro prima di applicare qualsiasi altro filtro.</span><span class="sxs-lookup"><span data-stu-id="f3cab-249">Remember to remove this filter before applying any other filtering.</span></span>

> [!TIP]
> <span data-ttu-id="f3cab-250">Netmon ha un sacco di utili filtri incorporati.</span><span class="sxs-lookup"><span data-stu-id="f3cab-250">Netmon has a lot of helpful built-in filters.</span></span> <span data-ttu-id="f3cab-251">Provare il pulsante **Carica filtro** nella parte superiore del riquadro del filtro di _visualizzazione_ .</span><span class="sxs-lookup"><span data-stu-id="f3cab-251">Try the **Load Filter** button at the top of the _Display_ filter pane.</span></span>
  
![Individuare l'indirizzo IP utilizzando PSPing nella riga di comando del computer client.](media/4c43ac67-e28e-4536-842d-7add7aa28847.PNG)
  
![Traccia Netmon dal client che mostra lo stesso comando PSPing tramite il filtro TCP. Flags. SYN = = 1.](media/0ae7ef7d-e003-4d01-a006-dc49bd1fcef2.PNG)
  
<span data-ttu-id="f3cab-254">Familiarizzare con il traffico e imparare a individuare le informazioni necessarie.</span><span class="sxs-lookup"><span data-stu-id="f3cab-254">Get familiar with your traffic, and learn to locate the information you need.</span></span> <span data-ttu-id="f3cab-255">Ad esempio, informazioni per determinare quale pacchetto nella traccia ha il primo riferimento al servizio Office 365 che si sta utilizzando (come "Outlook").</span><span class="sxs-lookup"><span data-stu-id="f3cab-255">For example, learn to determine which packet in the trace has the first reference to the Office 365 service you're using (like "Outlook").</span></span>

<span data-ttu-id="f3cab-256">Se si prende come esempio Office 365 Outlook online, il traffico inizia in questo modo:</span><span class="sxs-lookup"><span data-stu-id="f3cab-256">Taking Office 365 Outlook Online as an example, the traffic begins something like this:</span></span>
  
- <span data-ttu-id="f3cab-257">Query DNS standard e risposta DNS per outlook.office365.com con QueryIDs corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="f3cab-257">DNS Standard Query and DNS Response for outlook.office365.com with matching QueryIDs.</span></span> <span data-ttu-id="f3cab-258">È importante notare la distanza di tempo per questo turno, così come dove nel mondo il DNS globale di Office 365 invia la richiesta di risoluzione dei nomi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-258">It's important to note the time offset for this turn-around, as well as where in the world the Office 365 Global DNS sends the request for name resolution.</span></span> <span data-ttu-id="f3cab-259">Idealmente, il più localmente possibile, piuttosto che a metà strada in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="f3cab-259">Ideally, as locally as possible, rather than halfway across the world.</span></span>

- <span data-ttu-id="f3cab-260">Una richiesta HTTP GET la cui relazione sullo stato è stata spostata in modo permanente (301)</span><span class="sxs-lookup"><span data-stu-id="f3cab-260">A HTTP GET Request whose status report Moved Permanently (301)</span></span>

- <span data-ttu-id="f3cab-261">Traffico RW, incluse le richieste di connessione di RW e le risposte.</span><span class="sxs-lookup"><span data-stu-id="f3cab-261">RWS Traffic including RWS Connect requests and Connect replies.</span></span> <span data-ttu-id="f3cab-262">(Questo è Remote Winsock che effettua una connessione per l'utente).</span><span class="sxs-lookup"><span data-stu-id="f3cab-262">(This is Remote Winsock making a connection for you.)</span></span>

- <span data-ttu-id="f3cab-263">Una conversazione TCP SYN e TCP SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-263">A TCP SYN and TCP SYN/ACK conversation.</span></span> <span data-ttu-id="f3cab-264">Molte delle impostazioni di questa conversazione hanno un impatto sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-264">A lot of the settings in this conversation impact your performance.</span></span>

- <span data-ttu-id="f3cab-265">Quindi una serie di traffico TLS: TLS che è il luogo in cui si verificano le conversazioni tra TLS e TLS.</span><span class="sxs-lookup"><span data-stu-id="f3cab-265">Then a series of TLS:TLS traffic which is where the TLS handshake and TLS certificate conversations take place.</span></span> <span data-ttu-id="f3cab-266">(Tenere presente che i dati vengono crittografati tramite SSL/TLS).</span><span class="sxs-lookup"><span data-stu-id="f3cab-266">(Remember the data is encrypted via SSL/TLS.)</span></span>

<span data-ttu-id="f3cab-267">Tutte le parti del traffico sono importanti e connesse, ma piccole porzioni di traccia contengono informazioni particolarmente importanti in termini di risoluzione dei problemi relativi alle prestazioni, quindi ci concentreremo su queste aree.</span><span class="sxs-lookup"><span data-stu-id="f3cab-267">All parts of the traffic are important and connected, but small portions of the trace contain information particularly important in terms of performance troubleshooting, so we'll focus on those areas.</span></span> <span data-ttu-id="f3cab-268">Inoltre, dal momento che è stata eseguita una risoluzione dei problemi relativi alle prestazioni di Office 365 in Microsoft per compilare un elenco dei primi dieci, si concentrerà su tali problemi e su come usare gli strumenti che è necessario sradicare successivamente.</span><span class="sxs-lookup"><span data-stu-id="f3cab-268">Also, since we've done enough Office 365 performance troubleshooting at Microsoft to compile a Top Ten list of common problems, we'll focus on those issues and how to use the tools we have to root them out next.</span></span>
  
<span data-ttu-id="f3cab-269">Se non sono state installate tutte pronte, la matrice seguente utilizza diversi strumenti.</span><span class="sxs-lookup"><span data-stu-id="f3cab-269">If you haven't installed them all ready, the matrix below makes use of several tools.</span></span> <span data-ttu-id="f3cab-270">Se possibile.</span><span class="sxs-lookup"><span data-stu-id="f3cab-270">Where possible.</span></span> <span data-ttu-id="f3cab-271">I collegamenti vengono forniti ai punti di installazione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-271">Links are provided to the installation points.</span></span> <span data-ttu-id="f3cab-272">L'elenco include strumenti comuni di traccia di rete come [Netmon](https://www.microsoft.com/download/details.aspx?id=4865) e [Wireshark](https://www.wireshark.org/), ma utilizza qualsiasi strumento di tracciabilità con cui si è pratici e in cui si è abituati a filtrare il traffico di rete.</span><span class="sxs-lookup"><span data-stu-id="f3cab-272">The list includes common network tracing tools like [Netmon](https://www.microsoft.com/download/details.aspx?id=4865) and [Wireshark](https://www.wireshark.org/), but use any tracing tool you are comfortable with, and in which you're accustomed to filtering network traffic.</span></span> <span data-ttu-id="f3cab-273">Quando si esegue il testing, tenere presente quanto segue:</span><span class="sxs-lookup"><span data-stu-id="f3cab-273">When you're testing, remember:</span></span>
  
- <span data-ttu-id="f3cab-274">*Chiudere il browser e verificare che sia presente un solo browser in esecuzione, in* questo modo si riduce il traffico globale acquisito.</span><span class="sxs-lookup"><span data-stu-id="f3cab-274">*Close your browsers, and test with only one browser running*  - This will reduce the overall traffic you capture.</span></span> <span data-ttu-id="f3cab-275">Consente una traccia meno trafficata.</span><span class="sxs-lookup"><span data-stu-id="f3cab-275">It makes for a less busy trace.</span></span>
- <span data-ttu-id="f3cab-276">*Svuotare la cache del resolver DNS sul computer client* -questo vi darà una tabula rasa quando si inizia a prendere la cattura, per una traccia più pulita.</span><span class="sxs-lookup"><span data-stu-id="f3cab-276">*Flush your DNS resolver cache on the client computer*  - This will give you a clean slate when you start to take your capture, for a cleaner trace.</span></span>

## <a name="common-issues"></a><span data-ttu-id="f3cab-277">Problemi comuni</span><span class="sxs-lookup"><span data-stu-id="f3cab-277">Common issues</span></span>

<span data-ttu-id="f3cab-278">Alcuni problemi comuni che possono essere affrontati e come individuarli nella traccia di rete.</span><span class="sxs-lookup"><span data-stu-id="f3cab-278">Some common issues you may face and how to find them in your Network trace.</span></span>

### <a name="tcp-windows-scaling"></a><span data-ttu-id="f3cab-279">Scalabilità di Windows TCP</span><span class="sxs-lookup"><span data-stu-id="f3cab-279">TCP Windows Scaling</span></span>

<span data-ttu-id="f3cab-280">Presenti nel SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-280">Found in the SYN - SYN/ACK.</span></span> <span data-ttu-id="f3cab-281">L'hardware legacy o di invecchiamento potrebbe non trarre vantaggio dalla scalabilità di Windows TCP.</span><span class="sxs-lookup"><span data-stu-id="f3cab-281">Legacy or aging hardware may not take advantage of TCP windows scaling.</span></span>  <span data-ttu-id="f3cab-282">Senza appropriate impostazioni di ridimensionamento di Windows TCP, il buffer a 16 bit predefinito nelle intestazioni TCP si riempie in millisecondi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-282">Without proper TCP windows scaling settings, the default 16-bit buffer in TCP headers fills in milliseconds.</span></span>  <span data-ttu-id="f3cab-283">Il traffico non può continuare a essere inviato finché il client non riceve un riconoscimento per il quale i dati originali sono stati ricevuti, causando ritardi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-283">Traffic cannot continue to send until the client receives an acknowledgment that the original data has been received, causing delays.</span></span>

#### <a name="tools"></a><span data-ttu-id="f3cab-284">Strumenti</span><span class="sxs-lookup"><span data-stu-id="f3cab-284">Tools</span></span>

- <span data-ttu-id="f3cab-285">Netmon</span><span class="sxs-lookup"><span data-stu-id="f3cab-285">Netmon</span></span>
- <span data-ttu-id="f3cab-286">Wireshark</span><span class="sxs-lookup"><span data-stu-id="f3cab-286">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="f3cab-287">Cosa cercare</span><span class="sxs-lookup"><span data-stu-id="f3cab-287">What to look for</span></span>

<span data-ttu-id="f3cab-288">Cercare il traffico SYN-SYN/ACK nella traccia di rete.</span><span class="sxs-lookup"><span data-stu-id="f3cab-288">Look for the SYN - SYN/ACK traffic in your network trace.</span></span>  <span data-ttu-id="f3cab-289">In Netmon, utilizzare un filtro come `tcp.flags.syn == 1`.</span><span class="sxs-lookup"><span data-stu-id="f3cab-289">In Netmon, use a filter like  `tcp.flags.syn == 1`.</span></span> <span data-ttu-id="f3cab-290">Questo filtro è lo stesso in Wireshark.</span><span class="sxs-lookup"><span data-stu-id="f3cab-290">This filter is the same in Wireshark.</span></span>  

![Filtrare in Netmon o Wireshark per i pacchetti SYN per entrambi gli strumenti: TCP. Flags. SYN = = 1.](media/4b9a12a1-c915-43c8-ac2f-a679d0435a29.PNG)

<span data-ttu-id="f3cab-292">Si noti che per ogni SYN è presente un numero di porta di origine (SrcPort) corrispondente nella porta di destinazione (DstPort) del riconoscimento correlato (SYN/ACK).</span><span class="sxs-lookup"><span data-stu-id="f3cab-292">Notice that for every SYN there is a source port (SrcPort) number that is matched in the destination port (DstPort) of the related Acknowledgment (SYN/ACK).</span></span>

<span data-ttu-id="f3cab-293">Per visualizzare il valore di ridimensionamento di Windows utilizzato dalla connessione di rete, espandere prima il SYN e quindi il relativo SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-293">To see the Windows Scaling value that is used by your network connection, expand first the SYN, and then the related SYN/ACK.</span></span>  

![Grafico che illustra come corrispondere SrcPort a DstPort in una traccia, per ottenere il Delta del tempo.](media/6a4ca573-0253-4fbd-93e8-92821ee1c351.png)  

### <a name="tcp-idle-time-settings"></a><span data-ttu-id="f3cab-295">Impostazioni di tempo di inattività TCP</span><span class="sxs-lookup"><span data-stu-id="f3cab-295">TCP Idle Time Settings</span></span>

<span data-ttu-id="f3cab-296">Storicamente, la maggior parte delle reti perimetrali è configurata per le connessioni transitorie, che significa che le connessioni inattive vengono</span><span class="sxs-lookup"><span data-stu-id="f3cab-296">Historically, most perimeter networks are configured for transient connections, meaning idle connections are generally terminated.</span></span> <span data-ttu-id="f3cab-297">Le sessioni TCP inattive possono essere interrotte da proxy e firewall a un valore superiore a 100 a 300 secondi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-297">Idle TCP sessions can be terminated by proxies and firewalls at greater than 100 to 300 seconds.</span></span> <span data-ttu-id="f3cab-298">Questo è un problema per Outlook online perché crea e utilizza connessioni a lungo termine, sia che siano inattive o meno.</span><span class="sxs-lookup"><span data-stu-id="f3cab-298">This is problematic for Outlook Online because it creates and uses long-term connections, whether they are idle or not.</span></span>  

<span data-ttu-id="f3cab-299">Quando le connessioni vengono terminate da dispositivi proxy o firewall, il client non è informato e un tentativo di utilizzare Outlook online significherà che un computer client tenterà ripetutamente di rilanciare la connessione prima di crearne una nuova.</span><span class="sxs-lookup"><span data-stu-id="f3cab-299">When connections are terminated by proxy or firewall devices, the client is not informed, and an attempt to use Outlook Online will mean a client computer will try, repeatedly, to revive the connection before making a new one.</span></span> <span data-ttu-id="f3cab-300">È possibile che si verifichino blocchi nel prodotto, nelle istruzioni o in una lenta esecuzione del caricamento della pagina.</span><span class="sxs-lookup"><span data-stu-id="f3cab-300">You may see hangs in the product, prompts, or slow performance on page load.</span></span>

#### <a name="tools"></a><span data-ttu-id="f3cab-301">Strumenti</span><span class="sxs-lookup"><span data-stu-id="f3cab-301">Tools</span></span>

- <span data-ttu-id="f3cab-302">Netmon</span><span class="sxs-lookup"><span data-stu-id="f3cab-302">Netmon</span></span>
- <span data-ttu-id="f3cab-303">Wireshark</span><span class="sxs-lookup"><span data-stu-id="f3cab-303">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="f3cab-304">Cosa cercare</span><span class="sxs-lookup"><span data-stu-id="f3cab-304">What to look for</span></span>

<span data-ttu-id="f3cab-305">In Netmon, guardare il campo scostamento orario per un round trip.</span><span class="sxs-lookup"><span data-stu-id="f3cab-305">In Netmon, look at the Time Offset field for a round-trip.</span></span> <span data-ttu-id="f3cab-306">Un round trip è il tempo tra il client che invia una richiesta al server e la ricezione di una risposta.</span><span class="sxs-lookup"><span data-stu-id="f3cab-306">A round-trip is the time between client sending a request to the server and receiving a response back.</span></span> <span data-ttu-id="f3cab-307">Controllare tra il client e il punto di uscita (es.</span><span class="sxs-lookup"><span data-stu-id="f3cab-307">Check between the Client and the egress point (ex.</span></span> <span data-ttu-id="f3cab-308">Client--\> proxy) o il client a Office 365 (client--\> Office 365).</span><span class="sxs-lookup"><span data-stu-id="f3cab-308">Client --\> Proxy), or the Client to Office 365 (Client --\> Office 365).</span></span> <span data-ttu-id="f3cab-309">È possibile visualizzarlo in molti tipi di pacchetti.</span><span class="sxs-lookup"><span data-stu-id="f3cab-309">You can see this in many types of packets.</span></span>

<span data-ttu-id="f3cab-310">Ad esempio, il filtro in Netmon può essere simile `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`o, in Wireshark,. `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`</span><span class="sxs-lookup"><span data-stu-id="f3cab-310">As an example, the filter in Netmon may look like  `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`, or, in Wireshark,  `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span></span>  

> [!TIP]
> <span data-ttu-id="f3cab-311">Non è possibile sapere se l'indirizzo IP nella traccia appartiene al server DNS?</span><span class="sxs-lookup"><span data-stu-id="f3cab-311">Don't know if the IP address in your trace belongs to your DNS server?</span></span> <span data-ttu-id="f3cab-312">Provare a cercarlo dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="f3cab-312">Try looking it up at the command line.</span></span> <span data-ttu-id="f3cab-313">Fare clic su **Avvia** \> **esecuzione** \> e digitare **cmd**oppure premere il **tasto** \> Windows e digitare **cmd**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-313">Click **Start** \> **Run** \> and type **cmd**, or press **Windows Key** \> and type **cmd**.</span></span> <span data-ttu-id="f3cab-314">Al prompt dei comandi digitare `nslookup <the IP address from the network trace>`.</span><span class="sxs-lookup"><span data-stu-id="f3cab-314">At the prompt, type  `nslookup <the IP address from the network trace>`.</span></span> <span data-ttu-id="f3cab-315">Per eseguire il test, utilizzare Nslookup rispetto all'indirizzo IP del proprio computer.</span><span class="sxs-lookup"><span data-stu-id="f3cab-315">To test, use nslookup against your own computer's IP address.</span></span> <span data-ttu-id="f3cab-316">> per visualizzare un elenco degli intervalli IP di Microsoft, vedere [URL e intervalli di indirizzi IP di Office 365](https://technet.microsoft.com/library/hh373144.aspx).</span><span class="sxs-lookup"><span data-stu-id="f3cab-316">> To see a list of Microsoft's IP ranges, see [Office 365 URLs and IP address ranges](https://technet.microsoft.com/library/hh373144.aspx).</span></span>

<span data-ttu-id="f3cab-317">Se si verifica un problema, si prevede che gli offset di tempo prolungati vengano visualizzati, in questo caso (Outlook online), in particolare nei pacchetti TLS: TLS che mostrano il passaggio dei dati delle applicazioni (ad esempio, in Netmon `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`è possibile trovare i pacchetti di dati dell'applicazione tramite).</span><span class="sxs-lookup"><span data-stu-id="f3cab-317">If there is a problem, expect long Time Offsets to appear, in this case (Outlook Online), particularly in TLS:TLS packets that show the passage of Application Data (for example, in Netmon you can find application data packets via  `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`).</span></span> <span data-ttu-id="f3cab-318">Verrà visualizzata una graduale progressione nel tempo della sessione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-318">You should see a smooth progression in the time across the session.</span></span> <span data-ttu-id="f3cab-319">Se si verificano ritardi prolungati durante l'aggiornamento di Outlook online, ciò può essere causato da un elevato grado di reimpostazione inviati.</span><span class="sxs-lookup"><span data-stu-id="f3cab-319">If you see long delays when refreshing your Outlook Online, this could be caused by a high degree of resets being sent.</span></span>

### <a name="latencyround-trip-time"></a><span data-ttu-id="f3cab-320">Latenza/tempo di andata e ritorno</span><span class="sxs-lookup"><span data-stu-id="f3cab-320">Latency/Round Trip Time</span></span>

<span data-ttu-id="f3cab-321">La latenza è una misura che può cambiare molto a seconda di molte variabili, ad esempio l'aggiornamento dei dispositivi di invecchiamento, l'aggiunta di un numero elevato di utenti a una rete e la percentuale di larghezza di banda complessiva utilizzata da altre attività in una connessione di rete.</span><span class="sxs-lookup"><span data-stu-id="f3cab-321">Latency is a measure that can change a lot depending on many variables, such upgrading aging devices, adding a large number of users to a network, and the percentage of overall bandwidth consumed by other tasks on a network connection.</span></span>

<span data-ttu-id="f3cab-322">Esistono calcolatrici della larghezza di banda per Office 365 disponibili in questa pagina di [pianificazione della rete e ottimizzazione delle prestazioni per office 365](network-planning-and-performance.md) .</span><span class="sxs-lookup"><span data-stu-id="f3cab-322">There are bandwidth calculators for Office 365 available from this [Network planning and performance tuning for Office 365](network-planning-and-performance.md) page.</span></span>  

<span data-ttu-id="f3cab-323">È necessario misurare la velocità della connessione o la larghezza di banda della connessione dell'ISP?</span><span class="sxs-lookup"><span data-stu-id="f3cab-323">Need to measure the speed of your connection, or your ISP connection's bandwidth?</span></span> <span data-ttu-id="f3cab-324">Provare questo sito (o siti simili): [speedtest Official Site](https://www.speedtest.net/)o eseguire una query sul motore di ricerca preferito per il **test della velocità**della frase.</span><span class="sxs-lookup"><span data-stu-id="f3cab-324">Try this site (or sites like it): [Speedtest Official Site](https://www.speedtest.net/), or query your favorite search engine for the phrase **speed test**.</span></span>

#### <a name="tools"></a><span data-ttu-id="f3cab-325">Strumenti</span><span class="sxs-lookup"><span data-stu-id="f3cab-325">Tools</span></span>

- <span data-ttu-id="f3cab-326">Ping</span><span class="sxs-lookup"><span data-stu-id="f3cab-326">Ping</span></span>
- <span data-ttu-id="f3cab-327">PsPing</span><span class="sxs-lookup"><span data-stu-id="f3cab-327">PsPing</span></span>
- <span data-ttu-id="f3cab-328">Netmon</span><span class="sxs-lookup"><span data-stu-id="f3cab-328">Netmon</span></span>
- <span data-ttu-id="f3cab-329">Wireshark</span><span class="sxs-lookup"><span data-stu-id="f3cab-329">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="f3cab-330">Cosa cercare</span><span class="sxs-lookup"><span data-stu-id="f3cab-330">What to look for</span></span>

<span data-ttu-id="f3cab-331">Per tenere traccia della latenza in una traccia, si trarrà vantaggio dall'aver registrato l'indirizzo IP del computer client e l'indirizzo IP del server DNS in Office 365.</span><span class="sxs-lookup"><span data-stu-id="f3cab-331">To track latency in a trace, you will benefit from having recorded the client computer IP address and the IP address of the DNS server in Office 365.</span></span> <span data-ttu-id="f3cab-332">Questo è allo scopo di semplificare la traccia del filtro.</span><span class="sxs-lookup"><span data-stu-id="f3cab-332">This is for the purpose of easier trace filtering.</span></span> <span data-ttu-id="f3cab-333">Se si effettua la connessione tramite un proxy, sarà necessario l'indirizzo IP del computer client, l'indirizzo IP del proxy/uscita e l'indirizzo IP DNS di Office 365 per semplificare il lavoro.</span><span class="sxs-lookup"><span data-stu-id="f3cab-333">If you connect through a proxy, you will need your client computer IP address, the proxy/egress IP address, and the Office 365 DNS IP address, to make the work easier.</span></span>  

<span data-ttu-id="f3cab-334">Una richiesta di ping inviata a outlook.office365.com diranno il nome del datacenter che riceve la richiesta, anche se il ping *potrebbe* non essere in grado di connettersi per inviare i pacchetti ICMP del marchio consecutivi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-334">A ping request sent to outlook.office365.com will tell you the name of the datacenter receiving the request, even if ping  *may*  not be able to connect to send the trademark consecutive ICMP packets.</span></span> <span data-ttu-id="f3cab-335">Se si utilizza PsPing (uno strumento gratuito per il download) e specifica la porta (443) e, se si desidera utilizzare IPv4 (-4), si otterrà una media di andata e ritorno per i pacchetti inviati.</span><span class="sxs-lookup"><span data-stu-id="f3cab-335">If you use PsPing (a free tool for download), and specific the port (443) and perhaps to use IPv4 (-4) you will get an average round-trip-time for packets sent.</span></span> <span data-ttu-id="f3cab-336">Questo funzionerà per altri URL nei servizi di Office 365, ad esempio `psping -4 yourSite.sharepoint.com:443`.</span><span class="sxs-lookup"><span data-stu-id="f3cab-336">This will work this for other URLs in the Office 365 services, like `psping -4 yourSite.sharepoint.com:443`.</span></span> <span data-ttu-id="f3cab-337">In effetti, è possibile specificare un numero di ping per ottenere un campione più grande per la media, provare qualcosa di `psping -4 -n 20 yourSite-my.sharepoint.com:443`simile.</span><span class="sxs-lookup"><span data-stu-id="f3cab-337">In fact, you can specify a number of pings to get a larger sample for your average, try something like `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span></span>  

> [!NOTE]
> <span data-ttu-id="f3cab-338">PsPing non invia pacchetti ICMP.</span><span class="sxs-lookup"><span data-stu-id="f3cab-338">PsPing doesn't send ICMP packets.</span></span> <span data-ttu-id="f3cab-339">Viene eseguito il ping con i pacchetti TCP su una porta specifica, quindi è possibile utilizzarne uno che si conosce per essere aperti.</span><span class="sxs-lookup"><span data-stu-id="f3cab-339">It pings with TCP packets over a specific port, so you can use any one you know to be open.</span></span> <span data-ttu-id="f3cab-340">In Office 365, che utilizza SSL/TLS, provare a collegare la porta: 443 al PsPing.</span><span class="sxs-lookup"><span data-stu-id="f3cab-340">In Office 365, which uses SSL/TLS, try attaching port :443 to your PsPing.</span></span>

![Schermata che consente di visualizzare un ping di risoluzione di outlook.office365.com e un PSPing con il 443 facendo lo stesso, ma anche segnalando un RTT medio di 6.5 ms.](media/c64339f2-2c96-45b8-b168-c2a060430266.PNG)

<span data-ttu-id="f3cab-342">Se è stata caricata la pagina di Office 365 lenta eseguendo una traccia di rete, è necessario filtrare una traccia NetMon o `DNS`Wireshark per.</span><span class="sxs-lookup"><span data-stu-id="f3cab-342">If you loaded the slow performing Office 365 page while doing a network trace, you should filter a Netmon or Wireshark trace for `DNS`.</span></span> <span data-ttu-id="f3cab-343">Questo è uno degli indirizzi IP che stiamo cercando.</span><span class="sxs-lookup"><span data-stu-id="f3cab-343">This is one of the IPs we're looking for.</span></span>  

<span data-ttu-id="f3cab-344">Di seguito sono riportati i passaggi da eseguire per filtrare Netmon per ottenere l'indirizzo IP (e dare un'occhiata alla latenza DNS).</span><span class="sxs-lookup"><span data-stu-id="f3cab-344">Here are the steps to take to filter your Netmon to get the IP address (and take a look at DNS Latency).</span></span> <span data-ttu-id="f3cab-345">In questo esempio viene utilizzato outlook.office365.com, ma è anche possibile utilizzare l'URL di un tenant di SharePoint Online (ad esempio, hithere.sharepoint.com).</span><span class="sxs-lookup"><span data-stu-id="f3cab-345">This example uses outlook.office365.com, but may also use the URL of a SharePoint Online tenant (hithere.sharepoint.com for example).</span></span>  

1. <span data-ttu-id="f3cab-346">Eseguire il ping `ping outlook.office365.com` dell'URL e, nei risultati, registrare il nome e l'indirizzo IP del server DNS a cui è stata inviata la richiesta di ping.</span><span class="sxs-lookup"><span data-stu-id="f3cab-346">Ping the URL `ping outlook.office365.com` and, in the results, record the name and IP address of the DNS server the ping request was sent to.</span></span>
2. <span data-ttu-id="f3cab-347">Traccia di rete apertura della pagina o esecuzione dell'azione che consente di ottenere il problema delle prestazioni oppure, se viene visualizzata una latenza elevata sul ping stesso, la traccia di rete viene eseguita.</span><span class="sxs-lookup"><span data-stu-id="f3cab-347">Network trace opening the page, or doing the action that gives you the performance problem, or, if you see a high latency on the ping, itself, network trace it.</span></span>
3. <span data-ttu-id="f3cab-348">Aprire la traccia in Netmon e filtrare per DNS (questo filtro funziona anche in Wireshark, ma è sensibile al caso `-- dns`).</span><span class="sxs-lookup"><span data-stu-id="f3cab-348">Open the trace in Netmon and filter for DNS (this filter also works in Wireshark, but is sensitive to case `-- dns`).</span></span> <span data-ttu-id="f3cab-349">Dal momento che si conosce il nome del server DNS dal ping è possibile anche filtrare più rapidamente in Netmon come questo: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")`, che assomiglia a questo in Wireshark DNS e frame contiene "namnorthwest".</span><span class="sxs-lookup"><span data-stu-id="f3cab-349">Since you know the name of the DNS server from your ping you may also filter more speedily in Netmon like this: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")`, which looks like this in Wireshark dns and frame contains "namnorthwest".</span></span><br/><span data-ttu-id="f3cab-350">Aprire il pacchetto di risposta e, nella finestra **Dettagli struttura** Netmon, fare clic su **DNS** per espandersi per ulteriori informazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-350">Open the response packet and, in the Netmon **Frame Details** window, click **DNS** to expand for more information.</span></span> <span data-ttu-id="f3cab-351">Nelle informazioni DNS è possibile trovare l'indirizzo IP del server DNS in cui la richiesta è stata indirizzata in Office 365.</span><span class="sxs-lookup"><span data-stu-id="f3cab-351">In the DNS information you'll find the IP address of the DNS server the request went to in Office 365.</span></span> <span data-ttu-id="f3cab-352">Questo indirizzo IP dovrà essere utilizzato per il passaggio successivo (lo strumento PsPing).</span><span class="sxs-lookup"><span data-stu-id="f3cab-352">You'll need this IP address for the next step (the PsPing tool).</span></span> <span data-ttu-id="f3cab-353">Rimuovere il filtro, fare clic con il pulsante destro del mouse sulla risposta DNS in Netmon (**frame Summary** \> **Find conversazioni** \> **DNS**) per visualizzare la query DNS e la risposta affiancata.</span><span class="sxs-lookup"><span data-stu-id="f3cab-353">Remove the filter, right-click on the DNS Response in Netmon (**Frame Summary** \> **Find Conversations** \> **DNS**) to see the DNS Query and Response side-by-side.</span></span>
4. <span data-ttu-id="f3cab-354">In Netmon, prendere nota anche della colonna offset temporale tra la richiesta e la risposta DNS.</span><span class="sxs-lookup"><span data-stu-id="f3cab-354">In Netmon, also note the Time Offset  column between the DNS Request and Response.</span></span> <span data-ttu-id="f3cab-355">Nel passaggio successivo, lo strumento di [PsPing](https://technet.microsoft.com/sysinternals/jj729731.aspx) di facile installazione e utilizzo risulta molto utile, sia perché ICMP è spesso bloccato sui firewall, sia perché PsPing tiene traccia della latenza in millisecondi in modo elegante.</span><span class="sxs-lookup"><span data-stu-id="f3cab-355">In the next step, the easy-to-install and use [PsPing](https://technet.microsoft.com/sysinternals/jj729731.aspx) tool comes in very handy, both because ICMP is often blocked on Firewalls, and because PsPing elegantly tracks latency in milliseconds.</span></span> <span data-ttu-id="f3cab-356">PsPing completa una connessione TCP a un indirizzo e una porta (nel nostro caso aprire la porta 443).</span><span class="sxs-lookup"><span data-stu-id="f3cab-356">PsPing completes a TCP connection to an address and port (in our case open port 443).</span></span>
5. <span data-ttu-id="f3cab-357">Installare PsPing.</span><span class="sxs-lookup"><span data-stu-id="f3cab-357">Install PsPing.</span></span>
6. <span data-ttu-id="f3cab-358">Aprire un prompt dei comandi ( \> avviare \> il tipo di esecuzione cmd o \> il tipo di chiave di Windows cmd) e passare alla directory in cui è stato installato PsPing per eseguire il comando PsPing.</span><span class="sxs-lookup"><span data-stu-id="f3cab-358">Open a command prompt (Start \> Run \> type cmd, or Windows Key \> type cmd) and change directory to the directory where you installed PsPing to run the PsPing command.</span></span> <span data-ttu-id="f3cab-359">Nei miei esempi è possibile vedere che ho creato una cartella ' perf ' nella radice di C. È possibile eseguire la stessa operazione per un accesso rapido.</span><span class="sxs-lookup"><span data-stu-id="f3cab-359">In my examples you can see I made a 'Perf' folder on the root of C. You can do the same for quick access.</span></span>
7. <span data-ttu-id="f3cab-360">Digitare il comando in modo da rendere PsPing l'indirizzo IP del server DNS di Office 365 dalla traccia Netmon precedente, incluso il numero di porta, ad esempio `psping -n 20 132.245.24.82:445`.</span><span class="sxs-lookup"><span data-stu-id="f3cab-360">Type the command so that you're making your PsPing against the IP address of the Office 365 DNS server from your earlier Netmon trace, including the port number, like `psping -n 20 132.245.24.82:445`.</span></span> <span data-ttu-id="f3cab-361">Questo vi darà un campionamento di 20 ping e la media della latenza quando PsPing si arresta.</span><span class="sxs-lookup"><span data-stu-id="f3cab-361">This will give you a sampling of 20 pings and average the latency when PsPing stops.</span></span>

<span data-ttu-id="f3cab-362">Se si sta per Office 365 tramite un server proxy, la procedura è leggermente diversa.</span><span class="sxs-lookup"><span data-stu-id="f3cab-362">If you're going to Office 365 through a proxy server, the steps are a little different.</span></span> <span data-ttu-id="f3cab-363">Per prima cosa, è necessario PsPing al server proxy per ottenere un valore medio di latenza in millisecondi per proxy/uscita e viceversa, quindi eseguire PsPing nel proxy o su un computer con una connessione Internet diretta per ottenere il valore mancante (quello di Office 365 e viceversa).</span><span class="sxs-lookup"><span data-stu-id="f3cab-363">You would first PsPing to your proxy server to get an average latency value in milliseconds to proxy/egress and back, and then either run PsPing on the proxy, or on a computer with a direct Internet connection to get the missing value (the one to Office 365 and back).</span></span>  

<span data-ttu-id="f3cab-364">Se si sceglie di eseguire PsPing dal proxy, saranno disponibili due valori di millisecondi: il computer client per il server proxy o il punto di uscita e il server proxy su Office 365.</span><span class="sxs-lookup"><span data-stu-id="f3cab-364">If you choose to run PsPing from the proxy, you'll have two millisecond values: Client computer to proxy server or egress point, and proxy server to Office 365.</span></span> <span data-ttu-id="f3cab-365">Ed è tutto finito.</span><span class="sxs-lookup"><span data-stu-id="f3cab-365">And you're done!</span></span> <span data-ttu-id="f3cab-366">Bene, i valori di registrazione, comunque.</span><span class="sxs-lookup"><span data-stu-id="f3cab-366">Well, recording values, anyway.</span></span>  

<span data-ttu-id="f3cab-367">Se si esegue PsPing in un altro computer client che dispone di una connessione diretta a Internet, ovvero senza un proxy, saranno disponibili due valori di millisecondi: il computer client per il server proxy o il punto di uscita e il computer client in Office 365.</span><span class="sxs-lookup"><span data-stu-id="f3cab-367">If you run PsPing on another client computer that has a direct connection to the Internet, that is, without a proxy, you will have two millisecond values: Client computer to proxy server or egress point, and client computer to Office 365.</span></span> <span data-ttu-id="f3cab-368">In questo caso, sottrarre il valore del computer client al server proxy o al punto di uscita dal valore del computer client a Office 365 e si avranno i numeri di RTT dal computer client al server proxy o al punto di uscita e dal server proxy o dal punto di uscita all'uffi cio CE 365.</span><span class="sxs-lookup"><span data-stu-id="f3cab-368">In this case, subtract the value of client computer to proxy server or egress point from the value of client computer to Office 365, and you will have the RTT numbers from your client computer to the proxy server or egress point, and from proxy server or egress point to Office 365.</span></span>

<span data-ttu-id="f3cab-369">Tuttavia, se è possibile trovare un computer client nel percorso interessato direttamente connesso oppure ignorare il proxy, è possibile scegliere se il problema si riproduce per iniziare e quindi verificarne l'utilizzo in seguito.</span><span class="sxs-lookup"><span data-stu-id="f3cab-369">However, if you can find a client computer in the impacted location that is directly connected, or bypasses the proxy, you may choose to see if the issue reproduces there to begin with, and test using it thereafter.</span></span>

<span data-ttu-id="f3cab-370">Latenza, come illustrato in una traccia Netmon, i millisecondi aggiuntivi possono essere aggiunti, se sono sufficienti in una determinata sessione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-370">Latency, as seen in a Netmon trace, those extra milliseconds can add up, if there are enough of them in any given session.</span></span>  

![Latenza generale in Network Monitor, con la colonna dell'intervallo di tempo predefinita di Network Monitor aggiunta al riepilogo dei frame.](media/7ad17380-8527-4bc2-9b9b-6310cf19ba6b.PNG)

> [!NOTE]
> <span data-ttu-id="f3cab-372">L'indirizzo IP potrebbe essere diverso da quello visualizzato qui, ad esempio, il ping potrebbe restituire qualcosa di più simile a 157.56.0.0/16 o a un intervallo simile.</span><span class="sxs-lookup"><span data-stu-id="f3cab-372">Your IP address may be different than the IPs shown here, for example, your ping may return something more like 157.56.0.0/16 or a similar range.</span></span> <span data-ttu-id="f3cab-373">Per un elenco degli intervalli utilizzati da Office 365, vedere [URL e intervalli di indirizzi IP di office 365](https://technet.microsoft.com/library/hh373144.aspx).</span><span class="sxs-lookup"><span data-stu-id="f3cab-373">For a list of ranges used by Office 365, check out [Office 365 URLs and IP address ranges](https://technet.microsoft.com/library/hh373144.aspx).</span></span>

<span data-ttu-id="f3cab-374">Tenere presente che per espandere tutti i nodi (è presente un pulsante nella parte superiore) se si desidera eseguire la ricerca, ad esempio 132,245.</span><span class="sxs-lookup"><span data-stu-id="f3cab-374">Remember to expand all the nodes (there's a button at the top for this) if you want to search for, for example, 132.245.</span></span>

### <a name="proxy-authentication"></a><span data-ttu-id="f3cab-375">Autenticazione proxy</span><span class="sxs-lookup"><span data-stu-id="f3cab-375">Proxy Authentication</span></span>

<span data-ttu-id="f3cab-376">Questo si applica solo a te se stai attraversando un server proxy.</span><span class="sxs-lookup"><span data-stu-id="f3cab-376">This only applies to you if you're going through a proxy server.</span></span> <span data-ttu-id="f3cab-377">In caso contrario, è possibile ignorare questi passaggi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-377">If not, you can skip these steps.</span></span> <span data-ttu-id="f3cab-378">Quando si lavora correttamente, l'autenticazione proxy deve essere eseguita in millisecondi in modo coerente.</span><span class="sxs-lookup"><span data-stu-id="f3cab-378">When working properly, proxy authentication should take place in milliseconds, consistently.</span></span> <span data-ttu-id="f3cab-379">Non è possibile visualizzare le prestazioni Intermittent negative durante i periodi di utilizzo di picco (ad esempio).</span><span class="sxs-lookup"><span data-stu-id="f3cab-379">You shouldn't see intermittent bad performance during peak usage periods (for example).</span></span>  

<span data-ttu-id="f3cab-380">Se l'autenticazione proxy è attiva, ogni volta che si crea una nuova connessione TCP a Office 365 per ottenere informazioni, è necessario passare attraverso un processo di autenticazione dietro le quinte.</span><span class="sxs-lookup"><span data-stu-id="f3cab-380">If Proxy authentication is on, each time you make a new TCP connection to Office 365 to get information, you need to pass through an authentication process behind the scenes.</span></span> <span data-ttu-id="f3cab-381">Quando, ad esempio, si passa dal calendario alla posta elettronica in Outlook online, verrà effettuato l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-381">So, for example, when switching from Calendar to Mail in Outlook Online, you will authenticate.</span></span> <span data-ttu-id="f3cab-382">E in SharePoint Online, se una pagina Visualizza supporti o dati provenienti da più siti o posizioni, l'autenticazione per ogni connessione TCP diversa è necessaria per eseguire il rendering dei dati.</span><span class="sxs-lookup"><span data-stu-id="f3cab-382">And in SharePoint Online, if a page displays media or data from multiple sites or locations, you will authenticate for each different TCP connection that is needed in order to render the data.</span></span>  

<span data-ttu-id="f3cab-383">In Outlook online, è possibile che si verifichino tempi di caricamento indesiderati quando si passa da un calendario alla cassetta postale o carichi di pagine rallentati in SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="f3cab-383">In Outlook Online, you may experience slow load times whenever you switch between Calendar and your mailbox, or slow page loads in SharePoint Online.</span></span> <span data-ttu-id="f3cab-384">Tuttavia, vi sono altri sintomi non elencati qui.</span><span class="sxs-lookup"><span data-stu-id="f3cab-384">However, there are other symptoms not listed here.</span></span>

<span data-ttu-id="f3cab-385">L'autenticazione proxy è un'impostazione del server proxy di uscita.</span><span class="sxs-lookup"><span data-stu-id="f3cab-385">Proxy authentication is a setting on your egress proxy server.</span></span> <span data-ttu-id="f3cab-386">Se si sta causando un problema di prestazioni con Office 365, è necessario consultare il team di rete.</span><span class="sxs-lookup"><span data-stu-id="f3cab-386">If it is causing a performance issue with Office 365, you must consult your networking team.</span></span>  

#### <a name="tools"></a><span data-ttu-id="f3cab-387">Strumenti</span><span class="sxs-lookup"><span data-stu-id="f3cab-387">Tools</span></span>

- <span data-ttu-id="f3cab-388">Netmon</span><span class="sxs-lookup"><span data-stu-id="f3cab-388">Netmon</span></span>
- <span data-ttu-id="f3cab-389">Wireshark</span><span class="sxs-lookup"><span data-stu-id="f3cab-389">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="f3cab-390">Cosa cercare</span><span class="sxs-lookup"><span data-stu-id="f3cab-390">What to look for</span></span>

<span data-ttu-id="f3cab-391">L'autenticazione proxy avviene ogni volta che è necessario eseguire il filato su una nuova sessione TCP, in genere per richiedere file o informazioni dal server o per fornire informazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-391">Proxy authentication takes place whenever a new TCP session must be spun up, commonly to request files or info from the server, or to supply info.</span></span> <span data-ttu-id="f3cab-392">Ad esempio, è possibile che venga visualizzato l'autenticazione proxy attorno alle richieste HTTP GET o HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="f3cab-392">For example, you may see proxy authentication around HTTP GET or HTTP POST requests.</span></span> <span data-ttu-id="f3cab-393">Se si desidera visualizzare i frame in cui si eseguono le richieste di autenticazione nella traccia, aggiungere la colonna ' NTLMSSP Summary ' a Netmon e filtrare per `.property.NTLMSSPSummary`.</span><span class="sxs-lookup"><span data-stu-id="f3cab-393">If you want to see the frames where you are authenticating requests in your trace, add the 'NTLMSSP Summary' column to Netmon and filter for  `.property.NTLMSSPSummary`.</span></span> <span data-ttu-id="f3cab-394">Per visualizzare il tempo di esecuzione dell'autenticazione, aggiungere la colonna Delta del tempo.</span><span class="sxs-lookup"><span data-stu-id="f3cab-394">To see how long the authentication is taking, add the Time Delta column.</span></span>

<span data-ttu-id="f3cab-395">Per aggiungere una colonna a Netmon:</span><span class="sxs-lookup"><span data-stu-id="f3cab-395">To add a column to Netmon:</span></span>

1. <span data-ttu-id="f3cab-396">Fare clic con il pulsante destro del mouse su una colonna, ad esempio **Descrizione**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-396">Right-click on a column such as **Description**.</span></span>
2. <span data-ttu-id="f3cab-397">Fare clic su **Scegli colonne**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-397">Click **Choose Columns**.</span></span>
3. <span data-ttu-id="f3cab-398">Individuare il _Riepilogo di NTLMSSP_ e il _Delta temporale_ nell'elenco e fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-398">Locate _NTLMSSP Summary_ and _Time Delta_ in the list and click **Add**.</span></span>
4. <span data-ttu-id="f3cab-399">Spostare le nuove colonne in posizione prima o dietro la colonna _Descrizione_ in modo da poterle leggere affiancate.</span><span class="sxs-lookup"><span data-stu-id="f3cab-399">Move the new columns into place before or behind the _Description_ column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="f3cab-400">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-400">Click **OK**.</span></span>

<span data-ttu-id="f3cab-401">Anche se non si aggiunge la colonna, il filtro Netmon funzionerà.</span><span class="sxs-lookup"><span data-stu-id="f3cab-401">Even if you don't add the column, the Netmon filter will work.</span></span> <span data-ttu-id="f3cab-402">Tuttavia, la risoluzione dei problemi è molto più semplice se è possibile visualizzare il livello di autenticazione in cui si è in uso.</span><span class="sxs-lookup"><span data-stu-id="f3cab-402">But your troubleshooting will be much easier if you can see what stage of authentication you're in.</span></span>

<span data-ttu-id="f3cab-403">Quando si cercano istanze di autenticazione proxy, è necessario studiare tutti i frame in cui è presente una richiesta NTLM oppure è presente un messaggio di autenticità.</span><span class="sxs-lookup"><span data-stu-id="f3cab-403">When looking for instances of Proxy Authentication, be sure to study all frames where there is an NTLM Challenge, or an Authenticate Message is present.</span></span> <span data-ttu-id="f3cab-404">Se necessario, fare clic con il pulsante destro del mouse sulla parte di \> traffico specifica e individuare le conversazioni TCP.</span><span class="sxs-lookup"><span data-stu-id="f3cab-404">If necessary, right-click the specific piece of traffic and Find Conversations \> TCP.</span></span> <span data-ttu-id="f3cab-405">Tenere conto dei valori Delta temporali in queste conversazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-405">Be aware of the Time Delta values in these Conversations.</span></span>

![Traccia Netmon che mostra l'autenticazione proxy, filtrata tramite conversazione.](media/b640f176-0a52-4bbb-972e-60fb3d6aece2.PNG)

<span data-ttu-id="f3cab-407">Un ritardo di quattro secondi nell'autenticazione del proxy come mostrato in Wireshark.</span><span class="sxs-lookup"><span data-stu-id="f3cab-407">A four second delay in proxy authentication as seen in Wireshark.</span></span> <span data-ttu-id="f3cab-408">L' **intervallo di tempo tra la colonna del fotogramma visualizzato precedente** è stato eseguito facendo clic con il pulsante destro del mouse sul campo dello stesso nome nei dettagli della cornice e selezionando Aggiungi come colonna.</span><span class="sxs-lookup"><span data-stu-id="f3cab-408">The **Time delta from previous displayed frame** column was made via right-clicking the field of the same name in the frame details and selecting Add as Column.</span></span>  <br/> <span data-ttu-id="f3cab-409">![In Wireshark, la colonna ' Time Delta from previous displayd frame ' può essere fatta facendo clic con il pulsante destro del mouse sul campo dello stesso nome nei dettagli della cornice e selezionando Aggiungi come colonna.](media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span><span class="sxs-lookup"><span data-stu-id="f3cab-409">![In Wireshark, the 'Time delta from previous displayed frame' column can be made via right-clicking the field of the same name in the frame details and selecting Add as Column.](media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span></span>

### <a name="dns-performance"></a><span data-ttu-id="f3cab-410">Prestazioni DNS</span><span class="sxs-lookup"><span data-stu-id="f3cab-410">DNS Performance</span></span>

<span data-ttu-id="f3cab-411">La risoluzione dei nomi funziona in modo ottimale e più rapidamente quando avviene il più vicino possibile al paese del client.</span><span class="sxs-lookup"><span data-stu-id="f3cab-411">Name resolution works best and most quickly when it takes place as close to the client's country as possible.</span></span>

<span data-ttu-id="f3cab-412">Se la risoluzione del nome DNS è in corso all'estero, è possibile aggiungere secondi ai carichi di pagina.</span><span class="sxs-lookup"><span data-stu-id="f3cab-412">If DNS name resolution is taking place overseas, it can add seconds to page loads.</span></span> <span data-ttu-id="f3cab-413">Idealmente, la risoluzione del nome avviene in 100 ms.</span><span class="sxs-lookup"><span data-stu-id="f3cab-413">Ideally, name resolution happens in under 100ms.</span></span> <span data-ttu-id="f3cab-414">In caso contrario, è consigliabile eseguire ulteriori indagini.</span><span class="sxs-lookup"><span data-stu-id="f3cab-414">If not, you should do further investigation.</span></span>

> [!TIP]
> <span data-ttu-id="f3cab-415">Non si è sicuri di come funziona la connettività client in Office 365?</span><span class="sxs-lookup"><span data-stu-id="f3cab-415">Not sure how Client Connectivity works in Office 365?</span></span> <span data-ttu-id="f3cab-416">Esaminare il documento di riferimento per la connettività client [qui](https://technet.microsoft.com/library/dn741250.aspx).</span><span class="sxs-lookup"><span data-stu-id="f3cab-416">Take a look at the Client Connectivity Reference document [here](https://technet.microsoft.com/library/dn741250.aspx).</span></span>

#### <a name="tools"></a><span data-ttu-id="f3cab-417">Strumenti</span><span class="sxs-lookup"><span data-stu-id="f3cab-417">Tools</span></span>

- <span data-ttu-id="f3cab-418">Netmon</span><span class="sxs-lookup"><span data-stu-id="f3cab-418">Netmon</span></span>
- <span data-ttu-id="f3cab-419">Wireshark</span><span class="sxs-lookup"><span data-stu-id="f3cab-419">Wireshark</span></span>
- <span data-ttu-id="f3cab-420">PsPing</span><span class="sxs-lookup"><span data-stu-id="f3cab-420">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="f3cab-421">Cosa cercare</span><span class="sxs-lookup"><span data-stu-id="f3cab-421">What to look for</span></span>

<span data-ttu-id="f3cab-422">L'analisi delle prestazioni DNS è in genere un altro processo per una traccia di rete.</span><span class="sxs-lookup"><span data-stu-id="f3cab-422">Analyzing DNS performance is typically another job for a network trace.</span></span> <span data-ttu-id="f3cab-423">Tuttavia, PsPing è utile anche per determinare o escludere una possibile causa.</span><span class="sxs-lookup"><span data-stu-id="f3cab-423">However, PsPing is also helpful in ruling in, or out, a possible cause.</span></span>

<span data-ttu-id="f3cab-424">Il traffico DNS è basato sulle richieste TCP e UDP e le risposte sono chiaramente contrassegnate con un ID che consentirà di corrispondere una richiesta specifica con la risposta specifica.</span><span class="sxs-lookup"><span data-stu-id="f3cab-424">DNS traffic is based on TCP and UDP requests and responses are clearly marked with an ID that will help to match a specific request with its specific response.</span></span> <span data-ttu-id="f3cab-425">Verrà visualizzato il traffico DNS quando, ad esempio, SharePoint Online utilizza un nome di rete o un URL in una pagina Web.</span><span class="sxs-lookup"><span data-stu-id="f3cab-425">You'll see DNS traffic when, for example, SharePoint Online uses a network name or URL on a web page.</span></span> <span data-ttu-id="f3cab-426">Come regola generale, la maggior parte del traffico, tranne per il trasferimento delle aree, viene eseguito su UDP.</span><span class="sxs-lookup"><span data-stu-id="f3cab-426">As a rule of thumb, most of this traffic, except when transferring Zones, runs over UDP.</span></span>

<span data-ttu-id="f3cab-427">In entrambi i casi Netmon e Wireshark, il filtro di base che consente di esaminare il traffico DNS è `dns`semplicemente.</span><span class="sxs-lookup"><span data-stu-id="f3cab-427">In both Netmon and Wireshark, the most basic filter that will let you look at DNS traffic is simply `dns`.</span></span> <span data-ttu-id="f3cab-428">Assicurarsi di utilizzare la minuscola quando si specifica il filtro.</span><span class="sxs-lookup"><span data-stu-id="f3cab-428">Be sure to use lower case when specifying the filter.</span></span> <span data-ttu-id="f3cab-429">Prima di iniziare a riprodurre il problema nel computer client, ricordarsi di svuotare la cache del resolver DNS.</span><span class="sxs-lookup"><span data-stu-id="f3cab-429">Remember to flush your DNS resolver cache before you begin to reproduce the issue on your client computer.</span></span> <span data-ttu-id="f3cab-430">Ad esempio, se si dispone di un caricamento lenta della pagina di SharePoint Online per la Home page, è necessario chiudere tutti i browser, aprire un nuovo browser, avviare la traccia, svuotare la cache del resolver DNS e passare al sito di SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="f3cab-430">For example, if you have a slow SharePoint Online page load for the Home page, you should close all browsers, open a new browser, start tracing, flush your DNS resolver cache, and browse to your SharePoint Online site.</span></span> <span data-ttu-id="f3cab-431">Dopo la risoluzione dell'intera pagina, è necessario arrestare e salvare la traccia.</span><span class="sxs-lookup"><span data-stu-id="f3cab-431">Once the entire page resolves, you should stop and save the trace.</span></span>

![Un filtro di base per DNS in Netmon è DNS.](media/1bebc118-ca13-45f3-803f-ab73e7af401d.png)

<span data-ttu-id="f3cab-433">Si desidera esaminare l'offset del tempo qui.</span><span class="sxs-lookup"><span data-stu-id="f3cab-433">You want to look at the time offset here.</span></span> <span data-ttu-id="f3cab-434">Potrebbe essere utile aggiungere la colonna Delta del **tempo** a Netmon che è possibile eseguire eseguendo la procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="f3cab-434">And it may be helpful to add the **Time Delta** column to Netmon which you can do by completing these steps:</span></span>

1. <span data-ttu-id="f3cab-435">Fare clic con il pulsante destro del mouse su una colonna, ad esempio **Descrizione**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-435">Right-click on a column such as **Description**.</span></span>
2. <span data-ttu-id="f3cab-436">Fare clic su **Scegli colonne**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-436">Click **Choose Columns**.</span></span>
3. <span data-ttu-id="f3cab-437">Individuare _Time Delta_ nell'elenco e fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-437">Locate _Time Delta_ in the list and click **Add**.</span></span>
4. <span data-ttu-id="f3cab-438">Spostare la nuova colonna in posizione prima o dopo la colonna _Descrizione_ in modo da poterli leggere affiancate.</span><span class="sxs-lookup"><span data-stu-id="f3cab-438">Move the new column into place before or behind the _Description_ column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="f3cab-439">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-439">Click **OK**.</span></span>

<span data-ttu-id="f3cab-440">Se si trova una query di interesse, è consigliabile isolarla facendo clic con il pulsante destro del mouse su tale query nel riquadro dettagli frame, scegliendo **Trova conversazioni** \> **DNS**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-440">If you find a query of interest, consider isolating it by right-clicking that query in the frame details panel, choosing **Find Conversations** \> **DNS**.</span></span> <span data-ttu-id="f3cab-441">Si noti che il riquadro conversazioni di rete passa direttamente alla conversazione specifica nel log del traffico UDP.</span><span class="sxs-lookup"><span data-stu-id="f3cab-441">Notice that the Network Conversations panel jumps right to the specific conversation in its log of UDP traffic.</span></span>

![Una traccia Netmon del caricamento di Outlook online filtrata da DNS e l'utilizzo di trova conversazioni quindi DNS per limitare i risultati.](media/763cf20e-7b48-4a37-9449-c9978cfe118b.PNG)

<span data-ttu-id="f3cab-443">In Wireshark è possibile creare una colonna per il tempo DNS.</span><span class="sxs-lookup"><span data-stu-id="f3cab-443">In Wireshark you can make a column for DNS time.</span></span> <span data-ttu-id="f3cab-444">Prendere la traccia (o aprire una traccia) in Wireshark e filtrare in `dns`base o, più utile, `dns.time`.</span><span class="sxs-lookup"><span data-stu-id="f3cab-444">Take your trace (or open a trace) in Wireshark and filter by `dns`, or, more helpfully,  `dns.time`.</span></span> <span data-ttu-id="f3cab-445">Fare clic su qualsiasi query DNS e, nel riquadro che mostra i dettagli, espandere `Domain Name System (response)` i dettagli.</span><span class="sxs-lookup"><span data-stu-id="f3cab-445">Click on any DNS query, and, in the panel showing details, expand the  `Domain Name System (response)` details.</span></span> <span data-ttu-id="f3cab-446">Verrà visualizzato un campo per il tempo, `[Time: 0.001111100 seconds]`ad esempio.</span><span class="sxs-lookup"><span data-stu-id="f3cab-446">You'll see a field for time (for example, `[Time: 0.001111100 seconds]`.</span></span> <span data-ttu-id="f3cab-447">Fare clic con il pulsante destro del mouse e selezionare **applica come colonna**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-447">Right-click this time and select **Apply as Column**.</span></span> <span data-ttu-id="f3cab-448">In questo modo verrà restituita una colonna **temporale** per l'ordinamento più rapido della traccia.</span><span class="sxs-lookup"><span data-stu-id="f3cab-448">This will give you a **Time** column for quicker sorting of your trace.</span></span> <span data-ttu-id="f3cab-449">Fare clic sulla nuova colonna per ordinare i valori decrescenti per vedere quale chiamata DNS ha richiesto la risoluzione più lunga.</span><span class="sxs-lookup"><span data-stu-id="f3cab-449">Click on the new column to sort by descending values to see which DNS call took the longest to resolve.</span></span>

[<span data-ttu-id="f3cab-450">Una ricerca di SharePoint Online filtrata in Wireshark da (tutto minuscolo) dns.time, con il tempo dei dettagli realizzato in una colonna e classificato in ordine crescente.</span><span class="sxs-lookup"><span data-stu-id="f3cab-450">A browse of SharePoint Online filtered in Wireshark by (lowercase) dns.time, with the time from the details made into a column and sorted ascending.</span></span>](media/1439dcc2-12ff-4ee2-9ef3-1484cf79c384.PNG)

<span data-ttu-id="f3cab-451">Se si desidera eseguire ulteriori indagini sul tempo di risoluzione DNS, provare a utilizzare PsPing sulla porta DNS utilizzata da TCP (ad esempio, `psping <IP address of DNS server>:53`).</span><span class="sxs-lookup"><span data-stu-id="f3cab-451">If you would like to do more investigation of the DNS resolution time, try a PsPing against the DNS port used by TCP (for example,  `psping <IP address of DNS server>:53`) .</span></span> <span data-ttu-id="f3cab-452">Si vede ancora un problema di prestazioni?</span><span class="sxs-lookup"><span data-stu-id="f3cab-452">Do you still see a performance issue?</span></span> <span data-ttu-id="f3cab-453">In caso contrario, è più probabile che si tratti di un problema di rete più ampio rispetto a un problema di specifica applicazione DNS che si sta colpendo per la risoluzione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-453">If you do, then the problem is more likely to be a broader network issue than an issue of specific the DNS application you're hitting to do resolution.</span></span> <span data-ttu-id="f3cab-454">Vale anche la pena di ricordare che un ping a outlook.office365.com ti dirà dove è in corso la risoluzione dei nomi DNS per Outlook online (ad esempio, outlook-namnorthwest.office365.com).</span><span class="sxs-lookup"><span data-stu-id="f3cab-454">It's also worth mentioning, again, that a ping to outlook.office365.com will tell you where DNS name resolution for Outlook Online is taking place (for example, outlook-namnorthwest.office365.com).</span></span>

<span data-ttu-id="f3cab-455">Se il problema sembra specifico DNS, potrebbe essere necessario rivolgersi al proprio reparto IT per esaminare le configurazioni DNS e i Forwarder DNS per analizzare ulteriormente questo problema.</span><span class="sxs-lookup"><span data-stu-id="f3cab-455">If the issue looks to be DNS specific, it may be necessary to contact your IT department to look at DNS configurations and DNS Forwarders to further investigate this issue.</span></span>

### <a name="proxy-scalability"></a><span data-ttu-id="f3cab-456">Scalabilità del proxy</span><span class="sxs-lookup"><span data-stu-id="f3cab-456">Proxy Scalability</span></span>

<span data-ttu-id="f3cab-457">Servizi come Outlook online in Office 365 concedere ai client più connessioni a lungo termine.</span><span class="sxs-lookup"><span data-stu-id="f3cab-457">Services like Outlook Online in Office 365 grant clients multiple long-term connections.</span></span> <span data-ttu-id="f3cab-458">Pertanto, ogni utente può utilizzare più connessioni che richiedono una durata più lunga.</span><span class="sxs-lookup"><span data-stu-id="f3cab-458">Therefore, each user may use more connections that require a longer life.</span></span>  

#### <a name="tools"></a><span data-ttu-id="f3cab-459">Strumenti</span><span class="sxs-lookup"><span data-stu-id="f3cab-459">Tools</span></span>

<span data-ttu-id="f3cab-460">Matematiche</span><span class="sxs-lookup"><span data-stu-id="f3cab-460">Math</span></span>  

#### <a name="what-to-look-for"></a><span data-ttu-id="f3cab-461">Cosa cercare</span><span class="sxs-lookup"><span data-stu-id="f3cab-461">What to look for</span></span>

<span data-ttu-id="f3cab-462">Non è presente alcuna traccia di rete o uno strumento di risoluzione dei problemi specifico.</span><span class="sxs-lookup"><span data-stu-id="f3cab-462">There is no network trace or troubleshooting tool specific to this.</span></span> <span data-ttu-id="f3cab-463">Invece, si basa su calcoli di larghezza di banda determinate limitazioni e altre variabili.</span><span class="sxs-lookup"><span data-stu-id="f3cab-463">Instead, it's based upon bandwidth calculations given limitations and other variables.</span></span>  

### <a name="tcp-max-segment-size"></a><span data-ttu-id="f3cab-464">Dimensione massima del segmento TCP</span><span class="sxs-lookup"><span data-stu-id="f3cab-464">TCP Max Segment Size</span></span>

<span data-ttu-id="f3cab-465">Presenti nel SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-465">Found in the SYN - SYN/ACK.</span></span>  <span data-ttu-id="f3cab-466">Eseguire questo controllo in qualsiasi traccia di rete di prestazioni eseguita per garantire che i pacchetti TCP siano configurati in modo da contenere la quantità massima di dati possibile.</span><span class="sxs-lookup"><span data-stu-id="f3cab-466">Do this check in any performance network trace you've taken to ensure that TCP packets are configured to carry the maximum amount of data possible.</span></span>

<span data-ttu-id="f3cab-467">L'obiettivo è vedere un MSS di 1460 byte per la trasmissione dei dati.</span><span class="sxs-lookup"><span data-stu-id="f3cab-467">The goal is to see a MSS of 1460 bytes for transmission of data.</span></span> <span data-ttu-id="f3cab-468">Se si è dietro un proxy o si utilizza un NAT, ricordarsi di eseguire il test da client a proxy/uscita/NAT e da proxy/uscita/NAT a Office 365 per ottenere risultati ottimali.</span><span class="sxs-lookup"><span data-stu-id="f3cab-468">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results!</span></span> <span data-ttu-id="f3cab-469">Si tratta di sessioni TCP diverse.</span><span class="sxs-lookup"><span data-stu-id="f3cab-469">These are different TCP sessions.</span></span>

#### <a name="tools"></a><span data-ttu-id="f3cab-470">Strumenti</span><span class="sxs-lookup"><span data-stu-id="f3cab-470">Tools</span></span>

<span data-ttu-id="f3cab-471">Netmon</span><span class="sxs-lookup"><span data-stu-id="f3cab-471">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="f3cab-472">Cosa cercare</span><span class="sxs-lookup"><span data-stu-id="f3cab-472">What to look for</span></span>

<span data-ttu-id="f3cab-473">La dimensione del segmento TCP Max (MSS) è un altro parametro dell'handshake a tre vie nella traccia di rete, quindi i dati necessari sono disponibili nel pacchetto SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-473">TCP Max Segment Size (MSS) is another parameter of the three-way handshake in your network trace, that means you'll find the data you need in the SYN - SYN/ACK packet.</span></span> <span data-ttu-id="f3cab-474">MSS è in realtà piuttosto semplice da vedere.</span><span class="sxs-lookup"><span data-stu-id="f3cab-474">MSS is actually pretty simple to see.</span></span>

<span data-ttu-id="f3cab-475">Aprire qualsiasi traccia di rete delle prestazioni di cui si dispone e trovare la connessione di cui si è curiosi o che dimostra il problema delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-475">Open any performance network trace you have and find the connection you're curious about, or that demonstrates the performance problem.</span></span>

> [!NOTE]
> <span data-ttu-id="f3cab-476">Se si sta esaminando una traccia ed è necessario trovare il traffico pertinente per la conversazione, filtrare in base all'indirizzo IP del client o all'IP del server proxy o del punto di uscita o di entrambi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-476">If you are looking at a trace and need to find the traffic relevant to your conversation, filter by the IP of the Client, or the IP of the proxy server or egress point, or both.</span></span> <span data-ttu-id="f3cab-477">Se si sta eseguendo direttamente, è necessario eseguire il ping sull'URL che si sta testando per l'indirizzo IP di Office 365 nella traccia e filtrare in base al filtro.</span><span class="sxs-lookup"><span data-stu-id="f3cab-477">Going directly, you will need to ping the URL that you're testing for the IP address of Office 365 in the trace, and filter by it.</span></span>

<span data-ttu-id="f3cab-478">Guardando la traccia di seconda mano?</span><span class="sxs-lookup"><span data-stu-id="f3cab-478">Looking at the trace second-hand?</span></span> <span data-ttu-id="f3cab-479">Provare a utilizzare i filtri per orientarsi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-479">Try using filters to orient yourself.</span></span> <span data-ttu-id="f3cab-480">In Netmon eseguire una ricerca in base all'URL, ad esempio `Containsbin(framedata, ascii, "sphybridExample")`, prendere nota del numero di fotogrammi.</span><span class="sxs-lookup"><span data-stu-id="f3cab-480">In Netmon, run a search based on the URL, such as `Containsbin(framedata, ascii, "sphybridExample")`, take note of the frame number.</span></span>

<span data-ttu-id="f3cab-481">In Wireshark utilizzare qualcosa di `frame contains "sphybridExample"`simile.</span><span class="sxs-lookup"><span data-stu-id="f3cab-481">In Wireshark use something like  `frame contains "sphybridExample"`.</span></span> <span data-ttu-id="f3cab-482">Se si nota che il traffico di Winsock (RW) remoto è stato trovato (potrebbe essere visualizzato come [PSH, ACK] in Wireshark), tenere presente che la connessione di RW può essere visualizzata poco prima della pertinente SYN-SYN/ACK, come descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="f3cab-482">If you notice that you've found Remote Winsock (RWS) traffic (it may appear as a [PSH, ACK] in Wireshark), remember that RWS connects can be seen shortly before relevant SYN - SYN/ACKs, as discussed earlier.</span></span>

<span data-ttu-id="f3cab-483">A questo punto, è possibile registrare il numero di frame, eliminare il filtro, fare clic su **tutto il traffico** nella finestra conversazioni di rete in Netmon per esaminare il SYN più vicino.</span><span class="sxs-lookup"><span data-stu-id="f3cab-483">At this point, you can record the frame number, drop the filter, click **All Traffic** in the Network Conversations window in Netmon to look at the nearest SYN.</span></span>

<span data-ttu-id="f3cab-484">[! Importante] se non si ricevono le informazioni sull'indirizzo IP al momento della traccia, la ricerca dell'URL nella traccia (parte di `sphybridExample-my.sharepoint.com`, ad esempio) fornirà gli indirizzi IP da filtrare.</span><span class="sxs-lookup"><span data-stu-id="f3cab-484">Importantly, if you didn't receive any of the IP address information at the time of the trace, finding your URL in the trace (part of `sphybridExample-my.sharepoint.com`, for example), will give you IP addresses to filter by.</span></span>

<span data-ttu-id="f3cab-485">Individuare la connessione nella traccia che si desidera visualizzare.</span><span class="sxs-lookup"><span data-stu-id="f3cab-485">Locate the connection in the trace that you're interested in seeing.</span></span> <span data-ttu-id="f3cab-486">È possibile eseguire questa operazione analizzando la traccia, filtrando in base agli indirizzi IP o selezionando ID di conversazione specifici utilizzando la finestra conversazioni di rete in Netmon.</span><span class="sxs-lookup"><span data-stu-id="f3cab-486">You may do this by either scanning the trace, by filtering by IP addresses, or by selecting specific Conversation IDs using the Network Conversations window in Netmon.</span></span> <span data-ttu-id="f3cab-487">Dopo aver trovato il pacchetto SYN, espandere TCP (in Netmon) o Transmission Control Protocol (in Wireshark) nel riquadro dettagli frame.</span><span class="sxs-lookup"><span data-stu-id="f3cab-487">Once you've found the SYN packet, expand TCP (in Netmon), or Transmission Control Protocol (in Wireshark) in the Frame Details panel.</span></span> <span data-ttu-id="f3cab-488">Espandere Opzioni TCP e MaxSegmentSize.</span><span class="sxs-lookup"><span data-stu-id="f3cab-488">Expand TCP Options and MaxSegmentSize.</span></span> <span data-ttu-id="f3cab-489">Individuare il frame SYN-ACK correlato ed espandere Opzioni TCP e MaxSegmentSize.</span><span class="sxs-lookup"><span data-stu-id="f3cab-489">Locate the related SYN-ACK frame and Expand TCP Options and MaxSegmentSize.</span></span> <span data-ttu-id="f3cab-490">Minore dei due valori sarà la dimensione massima del segmento.</span><span class="sxs-lookup"><span data-stu-id="f3cab-490">The smaller of the two values will be your Maximum Segment Size.</span></span> <span data-ttu-id="f3cab-491">In questa immagine, si utilizza la colonna incorporata in Netmon definì la risoluzione dei problemi relativi a TCP.</span><span class="sxs-lookup"><span data-stu-id="f3cab-491">In this picture, I make use of the built-in Column in Netmon called TCP Troubleshoot.</span></span>  

![Traccia di rete filtrata in Netmon utilizzando le colonne predefinite.](media/e073df13-71f8-497a-83b4-bb9f70bd9833.PNG)

<span data-ttu-id="f3cab-493">La colonna incorporata si trova nella parte superiore del riquadro dei **Dettagli della cornice** .</span><span class="sxs-lookup"><span data-stu-id="f3cab-493">The built-in column is at the top of the **Frame Details** panel.</span></span> <span data-ttu-id="f3cab-494">Per tornare alla visualizzazione normale, fare di nuovo clic su **colonne** e quindi scegliere **fuso orario**.</span><span class="sxs-lookup"><span data-stu-id="f3cab-494">(To switch back to your normal view, click **Columns** again, and then choose **Time Zone**.)</span></span>

![Dove trovare l'elenco a discesa delle colonne per l'opzione di risoluzione dei problemi di TCP (nella parte superiore del riepilogo dei frame).](media/64fd4baa-a872-4f07-b959-752d7d37fd62.PNG)

<span data-ttu-id="f3cab-496">Ecco una traccia filtrata in Wireshark.</span><span class="sxs-lookup"><span data-stu-id="f3cab-496">Here's a filtered trace in Wireshark.</span></span> <span data-ttu-id="f3cab-497">È presente un filtro specifico per il valore MSS ( `tcp.options.mss`).</span><span class="sxs-lookup"><span data-stu-id="f3cab-497">There is a filter specific to the MSS value ( `tcp.options.mss`).</span></span> <span data-ttu-id="f3cab-498">Le cornici di un SYN, SYN/ACK, handshake ACK sono collegate nella parte inferiore del Wireshark equivalente ai dettagli dei fotogrammi (in modo da frame 47 ACK, collegamenti a 46 SYN/ACK, collegamenti a 43 SYN) per semplificare questo tipo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="f3cab-498">The frames of a SYN, SYN/ACK, ACK handshake are linked at the bottom of the Wireshark equivalent to Frame Details (so frame 47 ACK, links to 46 SYN/ACK, links to 43 SYN) to make this kind of work easier.</span></span>

![Traccia filtrata in Wireshark da TCP. Options. MSS per la dimensione massima del segmento (MSS).](media/51e278db-801b-48bc-9b68-87cf92f03fd6.PNG)

<span data-ttu-id="f3cab-500">Se è necessario controllare il **riconoscimento selettivo** (argomento successivo in questa matrice), non chiudere la traccia.</span><span class="sxs-lookup"><span data-stu-id="f3cab-500">If you need to check **Selective Acknowledgment** (next topic in this matrix), don't close your trace!</span></span>

### <a name="selective-acknowledgment"></a><span data-ttu-id="f3cab-501">Riconoscimento selettivo</span><span class="sxs-lookup"><span data-stu-id="f3cab-501">Selective Acknowledgment</span></span>

<span data-ttu-id="f3cab-502">Presenti nel SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-502">Found in the SYN - SYN/ACK.</span></span> <span data-ttu-id="f3cab-503">Devono essere segnalate come consentito sia in SYN che in SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-503">Must be reported as Permitted in both SYN and SYN/ACK.</span></span> <span data-ttu-id="f3cab-504">Il riconoscimento selettivo (SACK) consente di ritrasmettere più agevolmente i dati quando un pacchetto o pacchetti risultano mancanti.</span><span class="sxs-lookup"><span data-stu-id="f3cab-504">Selective Acknowledgment (SACK) allows for smoother retransmission of data when a packet or packets go missing.</span></span> <span data-ttu-id="f3cab-505">I dispositivi possono disabilitare questa funzionalità, che può causare problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f3cab-505">Devices can disable this feature, which can lead to performance problems.</span></span>

<span data-ttu-id="f3cab-506">Se si è dietro un proxy o si utilizza un NAT, ricordarsi di eseguire il test da client a proxy/uscita/NAT e da proxy/uscita/NAT a Office 365 per ottenere risultati ottimali.</span><span class="sxs-lookup"><span data-stu-id="f3cab-506">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results!</span></span> <span data-ttu-id="f3cab-507">Si tratta di sessioni TCP diverse.</span><span class="sxs-lookup"><span data-stu-id="f3cab-507">These are different TCP sessions.</span></span>

#### <a name="tools"></a><span data-ttu-id="f3cab-508">Strumenti</span><span class="sxs-lookup"><span data-stu-id="f3cab-508">Tools</span></span>

<span data-ttu-id="f3cab-509">Netmon</span><span class="sxs-lookup"><span data-stu-id="f3cab-509">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="f3cab-510">Cosa cercare</span><span class="sxs-lookup"><span data-stu-id="f3cab-510">What to look for</span></span>

<span data-ttu-id="f3cab-511">Il riconoscimento selettivo (SACK) è un altro parametro nell'handshake SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-511">Selective Acknowledgment (SACK) is another parameter in the SYN-SYN/ACK handshake.</span></span> <span data-ttu-id="f3cab-512">È possibile filtrare la traccia per i diversi modi SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-512">You can filter your trace for SYN - SYN/ACK many ways.</span></span>

<span data-ttu-id="f3cab-513">Individuare la connessione nella traccia che si desidera visualizzare analizzando la traccia, filtrando in base agli indirizzi IP o facendo clic su un ID di conversazione utilizzando la finestra conversazioni di rete in Netmon.</span><span class="sxs-lookup"><span data-stu-id="f3cab-513">Locate the connection in the trace that you're interested in seeing either by scanning the trace, filtering by IP addresses, or by clicking a Conversation ID using the Network Conversations window in Netmon.</span></span> <span data-ttu-id="f3cab-514">Dopo aver trovato il pacchetto SYN, espandere TCP in Netmon o Transmission Control Protocol in Wireshark nella sezione frame details.</span><span class="sxs-lookup"><span data-stu-id="f3cab-514">Once you've found the SYN packet, expand TCP in Netmon, or Transmission Control Protocol in Wireshark in the Frame Details section.</span></span> <span data-ttu-id="f3cab-515">Espandere Opzioni TCP e quindi SACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-515">Expand TCP Options and then SACK.</span></span> <span data-ttu-id="f3cab-516">Individuare il frame SYN-ACK correlato ed espandere Opzioni TCP e il relativo campo SACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-516">Locate the related SYN-ACK frame and Expand TCP Options and its SACK field.</span></span> <span data-ttu-id="f3cab-517">Fare in modo che alcuni sacchi siano ammessi sia in SYN che in SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="f3cab-517">Make certain SACK is permitted in both SYN and SYN/ACK.</span></span> <span data-ttu-id="f3cab-518">Di seguito sono riportati i valori di SACK come visualizzato in Netmon e Wireshark.</span><span class="sxs-lookup"><span data-stu-id="f3cab-518">Here are SACK values as seen in both Netmon and Wireshark.</span></span>

![Riconoscimento selettivo (SACK) in Netmon come risultato di TCP. Flags. SYN = = 1.](media/216f556f-5031-4ed2-b066-a0d9b3251fa2.PNG)

![SACK come visualizzato in Wireshark con il filtro tcp.flags.syn == 1.](media/0a6e26e5-43dc-403b-adc9-3349a55f4e4b.PNG)

### <a name="dns-geolocation"></a><span data-ttu-id="f3cab-521">Geolocation DNS</span><span class="sxs-lookup"><span data-stu-id="f3cab-521">DNS Geolocation</span></span>

<span data-ttu-id="f3cab-522">Dove nel mondo Office 365 cerca di risolvere gli effetti della chiamata DNS la velocità di connessione.</span><span class="sxs-lookup"><span data-stu-id="f3cab-522">Where in the world Office 365 tries to resolve your DNS call effects your connection speed.</span></span>

<span data-ttu-id="f3cab-523">In Outlook online, dopo aver completato la prima ricerca DNS, il percorso del DNS verrà utilizzato per la connessione al datacenter più vicino.</span><span class="sxs-lookup"><span data-stu-id="f3cab-523">In Outlook Online, after the first DNS lookup is completed, the location of that DNS will be used to connect to your nearest datacenter.</span></span> <span data-ttu-id="f3cab-524">L'utente sarà connesso a un server Accesso client di Outlook online, che utilizzerà la rete backbone per connettersi al datacenter (dC) in cui sono archiviati i dati.</span><span class="sxs-lookup"><span data-stu-id="f3cab-524">You will be connected to an Outlook Online CAS server, which will use the backbone network to connect to the datacenter (dC) where your data is stored.</span></span> <span data-ttu-id="f3cab-525">Questo è più veloce.</span><span class="sxs-lookup"><span data-stu-id="f3cab-525">This is faster.</span></span>

<span data-ttu-id="f3cab-526">Quando si accede a SharePoint Online, gli utenti che viaggiano all'estero verranno indirizzati al data center attivo, ovvero il controller di database la cui posizione si basa sulla base di casa del tenant di SPO (pertanto, un controller di rete negli Stati Uniti, se l'utente è basato su Stati Uniti).</span><span class="sxs-lookup"><span data-stu-id="f3cab-526">When accessing SharePoint Online, a user traveling abroad will be directed to their active datacenter -- that's the dC whose location is based on their SPO tenant's home-base (so, a dC in the USA if the user if USA-based).</span></span>

<span data-ttu-id="f3cab-527">Lync Online dispone di nodi attivi in più di un controller di rete alla volta.</span><span class="sxs-lookup"><span data-stu-id="f3cab-527">Lync online has active nodes in more than one dC at a time.</span></span> <span data-ttu-id="f3cab-528">Quando le richieste vengono inviate per le istanze di Lync Online, il DNS di Microsoft determinerà il percorso da cui proviene la richiesta e restituirà gli indirizzi IP dal controller di dominio regionale più vicino in cui è attivo Lync Online.</span><span class="sxs-lookup"><span data-stu-id="f3cab-528">When requests are sent for Lync online instances, Microsoft's DNS will determine where in the world the request came from, and return IP addresses from the nearest regional dC where Lync online is active.</span></span>

> [!TIP]
> <span data-ttu-id="f3cab-529">Per ulteriori informazioni sul modo in cui i client si connettono a Office 365?</span><span class="sxs-lookup"><span data-stu-id="f3cab-529">Need to know more about how clients connect to Office 365?</span></span> <span data-ttu-id="f3cab-530">Esaminare l'articolo di riferimento per la [connettività dei client](https://technet.microsoft.com/library/dn741250.aspx) (e la grafica utile).</span><span class="sxs-lookup"><span data-stu-id="f3cab-530">Take a look at the [Client Connectivity](https://technet.microsoft.com/library/dn741250.aspx) reference article (and its helpful graphics).</span></span>

#### <a name="tools"></a><span data-ttu-id="f3cab-531">Strumenti</span><span class="sxs-lookup"><span data-stu-id="f3cab-531">Tools</span></span>

- <span data-ttu-id="f3cab-532">Ping</span><span class="sxs-lookup"><span data-stu-id="f3cab-532">Ping</span></span>
- <span data-ttu-id="f3cab-533">PsPing</span><span class="sxs-lookup"><span data-stu-id="f3cab-533">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="f3cab-534">Cosa cercare</span><span class="sxs-lookup"><span data-stu-id="f3cab-534">What to look for</span></span>

<span data-ttu-id="f3cab-535">Le richieste di risoluzione dei nomi dai server DNS del client ai server DNS di Microsoft dovrebbero, nella maggior parte delle ipotesi, comportare la restituzione di un indirizzo IP di un datacenter regionale (dC) tramite Microsoft DNS.</span><span class="sxs-lookup"><span data-stu-id="f3cab-535">Requests for name resolution from the client's DNS servers to Microsoft's DNS servers should in most cases result in Microsoft DNS returning the IP address of a regional datacenter (dC).</span></span> <span data-ttu-id="f3cab-536">Cosa significa questo per te?</span><span class="sxs-lookup"><span data-stu-id="f3cab-536">What does this mean for you?</span></span> <span data-ttu-id="f3cab-537">Se il tuo quartier generale si trova a Bangalore (India), ma viaggi negli Stati Uniti, quando il browser effettua una richiesta per Outlook online, i server DNS di Microsoft dovrebbero consegnare gli indirizzi IP ai datacenter negli Stati Uniti--un datacenter regionale.</span><span class="sxs-lookup"><span data-stu-id="f3cab-537">If your headquarters are in Bangalore, India, but you are traveling in the United States, when your browser makes a request for Outlook Online, Microsoft's DNS servers should hand you IP addresses to datacenters in the United States -- a regional datacenter.</span></span> <span data-ttu-id="f3cab-538">Se è necessario un messaggio di posta elettronica da Outlook, i dati viaggeranno tra la rete backbone rapida di Microsoft tra i datacenter.</span><span class="sxs-lookup"><span data-stu-id="f3cab-538">If mail is needed from Outlook, that data will travel across Microsoft's quick backbone network between the datacenters.</span></span>

<span data-ttu-id="f3cab-539">DNS funziona più velocemente quando la risoluzione dei nomi viene fatta il più vicino possibile alla posizione dell'utente.</span><span class="sxs-lookup"><span data-stu-id="f3cab-539">DNS works fastest when name resolution is done as close to the user location as possible.</span></span> <span data-ttu-id="f3cab-540">Se si è in Europa, si vuole andare a Microsoft DNS in Europa e (idealmente) si tratta di un datacenter in Europa.</span><span class="sxs-lookup"><span data-stu-id="f3cab-540">If you're in Europe, you want to go to a Microsoft DNS in Europe, and (ideally) deal with a datacenter in Europe.</span></span> <span data-ttu-id="f3cab-541">Le prestazioni di un client in Europa che vanno a DNS e un datacenter in America saranno più lente.</span><span class="sxs-lookup"><span data-stu-id="f3cab-541">Performance from a client in Europe going to DNS and a datacenter in America will be slower.</span></span>

<span data-ttu-id="f3cab-542">Eseguire lo strumento Ping su outlook.office365.com per determinare la posizione in cui viene instradata la richiesta DNS.</span><span class="sxs-lookup"><span data-stu-id="f3cab-542">Run the Ping tool against outlook.office365.com to determine where in the world your DNS request is being routed.</span></span> <span data-ttu-id="f3cab-543">Se ci si trova in Europa, dovrebbe essere visualizzata una risposta da qualcosa di simile a outlook-emeawest.office365.com.</span><span class="sxs-lookup"><span data-stu-id="f3cab-543">If you are in Europe, you should see a reply from something like outlook-emeawest.office365.com.</span></span> <span data-ttu-id="f3cab-544">Nelle Americhe, aspettatevi qualcosa di simile a outlook-namnorthwest.office365.com.</span><span class="sxs-lookup"><span data-stu-id="f3cab-544">In the Americas, expect something like outlook-namnorthwest.office365.com.</span></span>

<span data-ttu-id="f3cab-545">Aprire il prompt dei comandi nel computer client (tramite avvia \> esecuzione \> cmd o il tipo \> di chiave cmd di Windows).</span><span class="sxs-lookup"><span data-stu-id="f3cab-545">Open the command prompt on the client computer (via Start \> Run \> cmd or Windows key \> type cmd).</span></span> <span data-ttu-id="f3cab-546">Digitare ping outlook.office365.com e premere INVIO.</span><span class="sxs-lookup"><span data-stu-id="f3cab-546">Type ping outlook.office365.com and press ENTER.</span></span> <span data-ttu-id="f3cab-547">Tenere presente che per specificare-4 Se si desidera specificare il ping tramite IPv4.</span><span class="sxs-lookup"><span data-stu-id="f3cab-547">Remember, to specify -4 if you want to specify to ping via IPv4.</span></span> <span data-ttu-id="f3cab-548">Potrebbe non essere possibile ottenere una risposta dai pacchetti ICMP, ma dovrebbe essere visualizzato il nome del DNS in cui la richiesta è stata instradata.</span><span class="sxs-lookup"><span data-stu-id="f3cab-548">You may fail to get a reply from the ICMP packets, but you should see the name of the DNS to which the request was routed.</span></span> <span data-ttu-id="f3cab-549">Se si desidera visualizzare i numeri di latenza per la connessione, provare PsPing nell'indirizzo IP del server restituito da ping.</span><span class="sxs-lookup"><span data-stu-id="f3cab-549">If you want to see the latency numbers for this connection try PsPing to the IP address of the server that is returned by ping.</span></span>  

![Ping di outlook.office365.com che mostra la risoluzione in outlook-namnorthwest.](media/06c944d5-6159-43ec-aa31-757770695e8b.PNG)

![PSPing all'indirizzo IP restituito dal ping a outlook.office365.com mostrando una latenza media di 28 millisecondi.](media/f2b25a75-1a87-4479-b8a7-fa4375683507.PNG)

### <a name="office-365-application-troubleshooting"></a><span data-ttu-id="f3cab-552">Risoluzione dei problemi relativi alle applicazioni di Office 365</span><span class="sxs-lookup"><span data-stu-id="f3cab-552">Office 365 Application Troubleshooting</span></span>

#### <a name="tools"></a><span data-ttu-id="f3cab-553">Strumenti</span><span class="sxs-lookup"><span data-stu-id="f3cab-553">Tools</span></span>

- <span data-ttu-id="f3cab-554">Netmon</span><span class="sxs-lookup"><span data-stu-id="f3cab-554">Netmon</span></span>
- <span data-ttu-id="f3cab-555">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="f3cab-555">HTTPWatch</span></span>
- <span data-ttu-id="f3cab-556">Console F12 nel browser</span><span class="sxs-lookup"><span data-stu-id="f3cab-556">F12 Console in the browser</span></span>

<span data-ttu-id="f3cab-557">Non vengono illustrati gli strumenti utilizzati per la risoluzione dei problemi specifici di un'applicazione in questo articolo specifico della rete.</span><span class="sxs-lookup"><span data-stu-id="f3cab-557">We don't cover tools used in application-specific troubleshooting in this network-specific article.</span></span> <span data-ttu-id="f3cab-558">Tuttavia, è possibile trovare le risorse che *possono* essere utilizzate [in questa pagina](https://support.office.com/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span><span class="sxs-lookup"><span data-stu-id="f3cab-558">But you'll find resources you  *can*  use [on this page](https://support.office.com/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span></span>

## <a name="related-topics"></a><span data-ttu-id="f3cab-559">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="f3cab-559">Related Topics</span></span>

[<span data-ttu-id="f3cab-560">Gestione degli endpoint di Office 365</span><span class="sxs-lookup"><span data-stu-id="f3cab-560">Managing Office 365 endpoints</span></span>](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)
  
[<span data-ttu-id="f3cab-561">Domande frequenti sugli endpoint di Office 365</span><span class="sxs-lookup"><span data-stu-id="f3cab-561">Office 365 endpoints FAQ</span></span>](https://support.office.com/article/d4088321-1c89-4b96-9c99-54c75cae2e6d)
